<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookMeUp - Second-Hand Book Store</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #FFFFFF;
            color: #2E3A47;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Authentication Styles */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #4A6CF7 0%, #3A5BD9 100%);
        }
        
        .auth-form {
            background: #F8F9FA;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 450px;
            border: 1px solid #E0E0E0;
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .logo-icon {
            font-size: 42px;
            margin-right: 12px;
            color: #4A6CF7;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }
        
        .brand-title {
            font-size: 36px;
            font-weight: 800;
            color: #2E3A47;
            letter-spacing: 1px;
            text-transform: uppercase;
            background: linear-gradient(135deg, #4A6CF7, #3A5BD9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .brand-tagline {
            font-size: 16px;
            color: #6C757D;
            font-weight: 500;
            margin-top: 8px;
            letter-spacing: 0.5px;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2E3A47;
            font-size: 16px;
        }
        
        .form-input {
            width: 100%;
            padding: 14px;
            border: 1px solid #E0E0E0;
            border-radius: 8px;
            font-size: 16px;
            background-color: #FFFFFF;
            color: #2E3A47;
            transition: border-color 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #4A6CF7;
        }
        
        .btn {
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
        }
        
        .btn-primary {
            background-color: #4A6CF7;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3A5BD9;
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1px solid #4A6CF7;
            color: #4A6CF7;
        }
        
        .btn-outline:hover {
            background-color: #4A6CF7;
            color: white;
        }
        
        .auth-toggle {
            text-align: center;
            margin-top: 24px;
            color: #6C757D;
            font-size: 15px;
        }
        
        .auth-toggle a {
            color: #4A6CF7;
            text-decoration: none;
            cursor: pointer;
            font-weight: 500;
        }
        
        /* Navigation Styles */
        .navbar {
            background-color: #FFFFFF;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #E0E0E0;
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #4A6CF7;
            display: flex;
            align-items: center;
        }
        
        .logo-icon-nav {
            margin-right: 8px;
            font-size: 28px;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 20px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #2E3A47;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .nav-links a:hover, .nav-links a.active {
            background-color: #4A6CF7;
            color: white;
        }
        
        /* Role Switch Bar */
        .role-switch-bar {
            background-color: #F0F4FF;
            padding: 10px 0;
            border-bottom: 1px solid #E0E0E0;
            text-align: center;
        }
        
        .role-switch-container {
            display: inline-flex;
            background-color: white;
            border-radius: 25px;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #E0E0E0;
        }
        
        .role-switch-btn {
            padding: 8px 20px;
            border-radius: 20px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .role-switch-active {
            background-color: #4A6CF7;
            color: white;
        }
        
        .role-switch-inactive {
            background-color: transparent;
            color: #4A6CF7;
        }
        
        .role-switch-inactive:hover {
            background-color: #F0F4FF;
        }
        
        /* Search Bar Styles */
        .search-container {
            display: flex;
            align-items: center;
            margin-left: 20px;
        }
        
        .search-input {
            padding: 10px 15px;
            border: 1px solid #E0E0E0;
            border-radius: 8px;
            font-size: 16px;
            width: 300px;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #4A6CF7;
        }
        
        /* Panel Styles */
        .panel {
            min-height: calc(100vh - 140px);
            padding: 30px 0;
            background-color: #FFFFFF;
        }
        
        .panel-header {
            margin-bottom: 30px;
        }
        
        .panel-header h1 {
            font-size: 32px;
            color: #2E3A47;
            margin-bottom: 10px;
        }
        
        .panel-header p {
            color: #6C757D;
        }
        
        .panel-content {
            background: #F8F9FA;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
            border: 1px solid #E0E0E0;
        }
        
        /* Featured Books Styles */
        .featured-books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .featured-book-card {
            border: 1px solid #E0E0E0;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            background-color: #FFFFFF;
        }
        
        .featured-book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
        }
        
        .book-image-container {
            height: 220px;
            position: relative;
            overflow: hidden;
        }
        
        .book-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .featured-book-card:hover .book-image {
            transform: scale(1.05);
        }
        
        .book-language {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #4A6CF7;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .book-details {
            padding: 20px;
        }
        
        .book-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2E3A47;
            font-size: 18px;
            line-height: 1.3;
        }
        
        .book-author {
            color: #6C757D;
            font-size: 14px;
            margin-bottom: 12px;
        }
        
        .book-rating {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .stars {
            display: flex;
            margin-right: 8px;
        }
        
        .star {
            color: #FFC107;
            font-size: 16px;
            margin-right: 2px;
        }
        
        .rating-value {
            color: #6C757D;
            font-size: 14px;
            font-weight: 500;
        }
        
        .book-price {
            font-weight: 700;
            color: #4A6CF7;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .book-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .btn-small {
            padding: 10px 16px;
            font-size: 14px;
            width: auto;
            border-radius: 6px;
            cursor: pointer;
            border: none;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        /* Cart Styles */
        .cart-items {
            margin-top: 20px;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #E0E0E0;
            background-color: white;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .cart-item-image {
            width: 80px;
            height: 100px;
            object-fit: cover;
            border-radius: 5px;
            margin-right: 15px;
        }
        
        .cart-item-details {
            flex-grow: 1;
        }
        
        .cart-item-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .cart-item-author {
            color: #6C757D;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            font-weight: 700;
            color: #4A6CF7;
        }
        
        .cart-item-actions {
            display: flex;
            gap: 10px;
        }
        
        .cart-summary {
            margin-top: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 20px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 40px 0;
        }
        
        .cart-empty-icon {
            font-size: 64px;
            margin-bottom: 20px;
            color: #6C757D;
        }
        
        /* Checkout Steps */
        .checkout-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 20px;
        }
        
        .checkout-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            background-color: #E0E0E0;
            color: #6C757D;
        }
        
        .step-number.active {
            background-color: #4A6CF7;
            color: white;
        }
        
        .step-label {
            font-size: 14px;
            color: #6C757D;
        }
        
        .step-label.active {
            color: #4A6CF7;
            font-weight: 600;
        }
        
        /* Categories Styles */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .category-card {
            display: flex;
            align-items: center;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #E0E0E0;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .category-card.active {
            border: 2px solid #4A6CF7;
            background-color: #F0F4FF;
        }
        
        .category-icon {
            font-size: 36px;
            margin-right: 15px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #F0F4FF;
            border-radius: 50%;
        }
        
        .category-details {
            flex-grow: 1;
        }
        
        .category-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 18px;
        }
        
        .category-description {
            color: #6C757D;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .category-count {
            font-size: 14px;
            color: #4A6CF7;
            font-weight: 500;
        }
        
        /* Profile Styles */
        .profile-sections {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .profile-section {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #E0E0E0;
        }
        
        .profile-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #E0E0E0;
        }
        
        .profile-section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2E3A47;
        }
        
        .profile-section-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .profile-field {
            margin-bottom: 15px;
        }
        
        .profile-field label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #2E3A47;
        }
        
        .profile-field input {
            width: 100%;
            padding: 12px;
            border: 1px solid #E0E0E0;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .profile-field input:focus {
            outline: none;
            border-color: #4A6CF7;
        }
        
        .profile-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* Payment Methods */
        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .payment-method {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid #E0E0E0;
            border-radius: 8px;
            background-color: #F8F9FA;
        }
        
        .payment-details {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .payment-icon {
            font-size: 24px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .payment-info {
            display: flex;
            flex-direction: column;
        }
        
        .payment-type {
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .payment-number {
            color: #6C757D;
            font-size: 14px;
        }
        
        .payment-actions {
            display: flex;
            gap: 10px;
        }
        
        .add-payment-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            border: 2px dashed #E0E0E0;
            border-radius: 8px;
            background-color: #F8F9FA;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .add-payment-btn:hover {
            border-color: #4A6CF7;
            background-color: #F0F4FF;
        }
        
        .add-payment-icon {
            font-size: 20px;
            color: #4A6CF7;
        }
        
        /* Dashboard Cards */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .dashboard-card {
            background: #F8F9FA;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #E0E0E0;
            text-align: center;
        }
        
        .dashboard-card h3 {
            font-size: 16px;
            color: #6C757D;
            margin-bottom: 10px;
        }
        
        .dashboard-card .value {
            font-size: 32px;
            font-weight: 700;
            color: #4A6CF7;
        }
        
        /* Data Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #E0E0E0;
        }
        
        .data-table th {
            background-color: #F8F9FA;
            font-weight: 600;
            color: #2E3A47;
        }
        
        .data-table tr:hover {
            background-color: #F8F9FA;
        }
        
        /* Recent Activity Styles */
        .recent-activities {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .activity-item {
            display: flex;
            align-items: flex-start;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
            transition: all 0.3s;
        }
        
        .activity-item:hover {
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .activity-icon {
            font-size: 20px;
            margin-right: 15px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #F0F4FF;
            border-radius: 50%;
        }
        
        .activity-details {
            flex-grow: 1;
        }
        
        .activity-message {
            font-weight: 500;
            margin-bottom: 5px;
            color: #2E3A47;
        }
        
        .activity-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .activity-time {
            color: #6C757D;
            font-size: 14px;
        }
        
        .activity-amount {
            font-weight: 600;
            color: #4A6CF7;
            font-size: 14px;
        }
        
        /* Enhanced Seller Add Book Styles */
        .seller-add-book-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .form-full-width {
            grid-column: 1 / -1;
        }
        
        .image-upload-container {
            border: 2px dashed #E0E0E0;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background-color: #F8F9FA;
        }
        
        .image-upload-container:hover {
            border-color: #4A6CF7;
            background-color: #F0F4FF;
        }
        
        .image-upload-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: #6C757D;
        }
        
        .image-upload-text {
            margin-bottom: 10px;
            color: #6C757D;
        }
        
        .image-upload-hint {
            font-size: 14px;
            color: #6C757D;
        }
        
        .image-preview-container {
            margin-top: 20px;
            text-align: center;
        }
        
        .image-preview {
            max-width: 200px;
            max-height: 250px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .remove-image-btn {
            margin-top: 10px;
            background-color: #ff4757;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .remove-image-btn:hover {
            background-color: #ff3742;
        }
        
        /* Enhanced Admin Panel Styles */
        .admin-action-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .admin-edit-form {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #e0e0e0;
        }
        
        .admin-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .admin-form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .search-filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search-input {
            flex: 1;
            min-width: 250px;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-processing {
            background-color: #cce7ff;
            color: #004085;
        }
        
        .status-shipped {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .status-delivered {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .status-completed {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-refunded {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .status-failed {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 5px;
        }
        
        .pagination button {
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }
        
        .pagination button.active {
            background-color: #4A6CF7;
            color: white;
            border-color: #4A6CF7;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #6C757D;
        }
        
        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .order-items-list {
            margin-top: 10px;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .order-total {
            font-weight: bold;
            margin-top: 10px;
            text-align: right;
        }
        
        /* Enhanced Checkout Styles */
        .checkout-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .checkout-summary {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
        }
        
        .checkout-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .checkout-form-section {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
        }
        
        .checkout-success {
            text-align: center;
            padding: 40px 20px;
        }
        
        .success-icon {
            font-size: 80px;
            color: #4CAF50;
            margin-bottom: 20px;
        }
        
        .success-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        /* Payment Method Styles */
        .payment-method-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            border: 2px solid #E0E0E0;
            border-radius: 8px;
            cursor: pointer;
            background-color: white;
            transition: all 0.3s;
        }
        
        .payment-method-option.selected {
            border-color: #4A6CF7;
            background-color: #F0F4FF;
        }
        
        .payment-method-option:hover {
            border-color: #4A6CF7;
        }
        
        .payment-method-icon {
            font-size: 24px;
        }
        
        .payment-method-info {
            flex: 1;
        }
        
        .payment-method-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .payment-method-description {
            font-size: 14px;
            color: #6C757D;
        }
        
        /* Enhanced Admin Table Actions */
        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 5px 10px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
        }
        
        .action-edit {
            background-color: #4A6CF7;
            color: white;
        }
        
        .action-delete {
            background-color: #ff4757;
            color: white;
        }
        
        .action-view {
            background-color: #6c757d;
            color: white;
        }
        
        .action-block {
            background-color: #ffa502;
            color: white;
        }
        
        .action-unblock {
            background-color: #2ed573;
            color: white;
        }
        
        .action-verify {
            background-color: #2ed573;
            color: white;
        }
        
        .role-badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .role-buyer {
            background-color: #4A6CF7;
            color: white;
        }
        
        .role-seller {
            background-color: #2ed573;
            color: white;
        }
        
        .role-admin {
            background-color: #ffa502;
            color: white;
        }
        
        .status-badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .status-active {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-inactive {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-banned {
            background-color: #343a40;
            color: white;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #2E3A47;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6C757D;
        }
        
        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #E0E0E0;
            text-align: center;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #4A6CF7;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #6C757D;
        }
        
        /* User Detail View */
        .user-detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .user-detail-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
        }
        
        .user-detail-label {
            font-size: 12px;
            color: #6C757D;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .user-detail-value {
            font-size: 16px;
            font-weight: 500;
            color: #2E3A47;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
            }
            
            .nav-links {
                margin-top: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-links li {
                margin: 5px;
            }
            
            .auth-form {
                padding: 30px 20px;
                margin: 0 15px;
            }
            
            .brand-title {
                font-size: 28px;
            }
            
            .logo-icon {
                font-size: 36px;
            }
            
            .featured-books-grid {
                grid-template-columns: 1fr;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .cart-item {
                flex-direction: column;
                text-align: center;
            }
            
            .cart-item-image {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .profile-section-content {
                grid-template-columns: 1fr;
            }
            
            .dashboard-cards {
                grid-template-columns: 1fr;
            }
            
            .data-table {
                display: block;
                overflow-x: auto;
            }
            
            .activity-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .seller-add-book-form {
                grid-template-columns: 1fr;
            }
            
            .admin-form-row {
                grid-template-columns: 1fr;
            }
            
            .search-filter-bar {
                flex-direction: column;
            }
            
            .search-input {
                min-width: 100%;
            }
            
            .admin-action-buttons {
                flex-direction: column;
            }
            
            .search-container {
                margin-left: 0;
                margin-top: 15px;
                width: 100%;
            }
            
            .search-input {
                width: 100%;
            }
            
            .checkout-steps {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .checkout-form-grid {
                grid-template-columns: 1fr;
            }
            
            .success-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .role-switch-container {
                flex-direction: column;
                width: 80%;
            }
            
            .role-switch-btn {
                width: 100%;
                margin-bottom: 5px;
            }
            
            .user-detail-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Main App Component
        function App() {
            const [user, setUser] = useState(null);
            const [currentView, setCurrentView] = useState('login');
            
            // Check if user is already logged in (from localStorage)
            useEffect(() => {
                const savedUser = localStorage.getItem('bookstore_user');
                if (savedUser) {
                    setUser(JSON.parse(savedUser));
                    setCurrentView(JSON.parse(savedUser).role + 'Panel');
                }
            }, []);
            
            // Handle login
            const handleLogin = (userData) => {
                setUser(userData);
                localStorage.setItem('bookstore_user', JSON.stringify(userData));
                setCurrentView(userData.role + 'Panel');
            };
            
            // Handle logout
            const handleLogout = () => {
                setUser(null);
                localStorage.removeItem('bookstore_user');
                setCurrentView('login');
            };
            
            // Handle register
            const handleRegister = (userData) => {
                // In a real app, this would send data to backend
                // For demo, we'll just log the user in
                handleLogin(userData);
            };
            
            // Render the appropriate view based on current state
            const renderView = () => {
                switch(currentView) {
                    case 'login':
                        return <LoginView onLogin={handleLogin} onSwitchView={() => setCurrentView('register')} />;
                    case 'register':
                        return <RegisterView onRegister={handleRegister} onSwitchView={() => setCurrentView('login')} />;
                    case 'buyerPanel':
                        return <BuyerPanel user={user} onLogout={handleLogout} />;
                    case 'sellerPanel':
                        return <SellerPanel user={user} onLogout={handleLogout} />;
                    case 'adminPanel':
                        return <AdminPanel user={user} onLogout={handleLogout} />;
                    default:
                        return <LoginView onLogin={handleLogin} onSwitchView={() => setCurrentView('register')} />;
                }
            };
            
            return (
                <div className="app">
                    {renderView()}
                </div>
            );
        }

        // Login Component with Admin Authentication
        function LoginView({ onLogin, onSwitchView }) {
            const [formData, setFormData] = useState({
                email: '',
                password: '',
                role: 'buyer'
            });
            
            const handleChange = (e) => {
                setFormData({
                    ...formData,
                    [e.target.name]: e.target.value
                });
            };
            
            const handleSubmit = (e) => {
                e.preventDefault();
                
                // Admin authentication check
                if (formData.role === 'admin') {
                    if (formData.email === 'admin@gmail.com' && formData.password === 'admin123') {
                        onLogin({
                            email: formData.email,
                            role: formData.role
                        });
                    } else {
                        alert('Invalid admin credentials. Please use admin@gmail.com and password: admin123');
                        return;
                    }
                } else {
                    // For buyer and seller, allow login with any credentials (existing behavior)
                    onLogin({
                        email: formData.email,
                        role: formData.role
                    });
                }
            };
            
            return (
                <div className="auth-container">
                    <div className="auth-form">
                        <div className="auth-header">
                            <div className="logo-container">
                                <div className="logo-icon">ðŸ“šâœ¨</div>
                                <h1 className="brand-title">BOOKMEUP</h1>
                            </div>
                            <p className="brand-tagline">Your Second-Hand Book Marketplace</p>
                        </div>
                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label className="form-label">Email Address</label>
                                <input 
                                    className="form-input"
                                    type="email" 
                                    name="email" 
                                    value={formData.email} 
                                    onChange={handleChange}
                                    placeholder="Enter your email"
                                    required 
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Password</label>
                                <input 
                                    className="form-input"
                                    type="password" 
                                    name="password" 
                                    value={formData.password} 
                                    onChange={handleChange}
                                    placeholder="Enter your password"
                                    required 
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">User Type</label>
                                <select 
                                    className="form-input"
                                    name="role" 
                                    value={formData.role} 
                                    onChange={handleChange}
                                >
                                    <option value="buyer">Buyer</option>
                                    <option value="seller">Seller</option>
                                    <option value="admin">Admin</option>
                                </select>
                            </div>
                            <button type="submit" className="btn btn-primary">Sign In</button>
                        </form>
                        <div className="auth-toggle">
                            Don't have an account? <a onClick={onSwitchView}>Register here</a>
                        </div>
                    </div>
                </div>
            );
        }

        // Register Component
        function RegisterView({ onRegister, onSwitchView }) {
            const [formData, setFormData] = useState({
                email: '',
                password: '',
                confirmPassword: '',
                role: 'buyer'
            });
            
            const handleChange = (e) => {
                setFormData({
                    ...formData,
                    [e.target.name]: e.target.value
                });
            };
            
            const handleSubmit = (e) => {
                e.preventDefault();
                // In a real app, we would validate and send to backend
                // For demo, we'll just register the user
                if (formData.password !== formData.confirmPassword) {
                    alert("Passwords don't match!");
                    return;
                }
                
                onRegister({
                    email: formData.email,
                    role: formData.role
                });
            };
            
            return (
                <div className="auth-container">
                    <div className="auth-form">
                        <div className="auth-header">
                            <div className="logo-container">
                                <div className="logo-icon">ðŸ“šâœ¨</div>
                                <h1 className="brand-title">BOOKMEUP</h1>
                            </div>
                            <p className="brand-tagline">Create Your Account</p>
                        </div>
                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label className="form-label">Email</label>
                                <input 
                                    className="form-input"
                                    type="email" 
                                    name="email" 
                                    value={formData.email} 
                                    onChange={handleChange}
                                    required 
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Password</label>
                                <input 
                                    className="form-input"
                                    type="password" 
                                    name="password" 
                                    value={formData.password} 
                                    onChange={handleChange}
                                    required 
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Confirm Password</label>
                                <input 
                                    className="form-input"
                                    type="password" 
                                    name="confirmPassword" 
                                    value={formData.confirmPassword} 
                                    onChange={handleChange}
                                    required 
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Account Type</label>
                                <select 
                                    className="form-input"
                                    name="role" 
                                    value={formData.role} 
                                    onChange={handleChange}
                                >
                                    <option value="buyer">Buyer</option>
                                    <option value="seller">Seller</option>
                                    <option value="admin">Admin</option>
                                </select>
                            </div>
                            <button type="submit" className="btn btn-primary">Register</button>
                        </form>
                        <div className="auth-toggle">
                            Already have an account? <a onClick={onSwitchView}>Login here</a>
                        </div>
                    </div>
                </div>
            );
        }

        // Buyer Panel Component with Role Switch Bar
        function BuyerPanel({ user, onLogout }) {
            const [activePage, setActivePage] = useState('home');
            const [cartItems, setCartItems] = useState([]);
            const [searchQuery, setSearchQuery] = useState('');
            
            // Load cart from localStorage on component mount
            useEffect(() => {
                const savedCart = localStorage.getItem('bookstore_cart');
                if (savedCart) {
                    setCartItems(JSON.parse(savedCart));
                }
            }, []);
            
            // Save cart to localStorage whenever it changes
            useEffect(() => {
                localStorage.setItem('bookstore_cart', JSON.stringify(cartItems));
            }, [cartItems]);
            
            // Add item to cart
            const addToCart = (book) => {
                const existingItem = cartItems.find(item => item.id === book.id);
                if (existingItem) {
                    setCartItems(cartItems.map(item => 
                        item.id === book.id 
                            ? { ...item, quantity: item.quantity + 1 } 
                            : item
                    ));
                } else {
                    setCartItems([...cartItems, { ...book, quantity: 1 }]);
                }
                
                // Navigate to cart page after adding item
                setActivePage('cart');
            };
            
            // Remove item from cart
            const removeFromCart = (bookId) => {
                setCartItems(cartItems.filter(item => item.id !== bookId));
            };
            
            // Update item quantity in cart
            const updateQuantity = (bookId, newQuantity) => {
                if (newQuantity < 1) {
                    removeFromCart(bookId);
                    return;
                }
                
                setCartItems(cartItems.map(item => 
                    item.id === bookId ? { ...item, quantity: newQuantity } : item
                ));
            };
            
            // Calculate cart total
            const cartTotal = cartItems.reduce((total, item) => {
                // Extract numeric price from string (e.g., "â‚¹450" -> 450)
                const price = parseInt(item.price.replace('â‚¹', ''));
                return total + (price * item.quantity);
            }, 0);
            
            // Clear cart
            const clearCart = () => {
                setCartItems([]);
            };
            
            // Checkout function
            const handleCheckout = () => {
                clearCart();
            };
            
            // Handle search - now triggered automatically on input change
            const handleSearch = (e) => {
                const query = e.target.value;
                setSearchQuery(query);
                // Automatically show search results as user types
                if (query.trim()) {
                    setActivePage('home');
                }
            };
            
            // Role switch handler
            const handleRoleSwitch = () => {
                // Save current user data with seller role
                const sellerUser = { ...user, role: 'seller' };
                localStorage.setItem('bookstore_user', JSON.stringify(sellerUser));
                window.location.reload(); // Refresh to apply role change
            };
            
            const renderPage = () => {
                switch(activePage) {
                    case 'home':
                        return <BuyerHome addToCart={addToCart} searchQuery={searchQuery} />;
                    case 'categories':
                        return <BuyerCategories addToCart={addToCart} />;
                    case 'cart':
                        return <BuyerCart 
                            cartItems={cartItems} 
                            removeFromCart={removeFromCart}
                            updateQuantity={updateQuantity}
                            cartTotal={cartTotal}
                            handleCheckout={handleCheckout}
                            setActivePage={setActivePage}
                        />;
                    case 'orders':
                        return <BuyerOrders />;
                    case 'profile':
                        return <BuyerProfile user={user} />;
                    default:
                        return <BuyerHome addToCart={addToCart} searchQuery={searchQuery} />;
                }
            };
            
            return (
                <div>
                    <nav className="navbar">
                        <div className="nav-container">
                            <div className="logo">
                                <span className="logo-icon-nav">ðŸ“š</span>
                                BookMeUp
                            </div>
                            <ul className="nav-links">
                                <li><a 
                                    className={activePage === 'home' ? 'active' : ''} 
                                    onClick={() => setActivePage('home')}
                                >Home</a></li>
                                <li><a 
                                    className={activePage === 'categories' ? 'active' : ''} 
                                    onClick={() => setActivePage('categories')}
                                >Categories</a></li>
                                <li><a 
                                    className={activePage === 'cart' ? 'active' : ''} 
                                    onClick={() => setActivePage('cart')}
                                >
                                    Cart {cartItems.length > 0 ? `(${cartItems.length})` : ''}
                                </a></li>
                                <li><a 
                                    className={activePage === 'orders' ? 'active' : ''} 
                                    onClick={() => setActivePage('orders')}
                                >Orders</a></li>
                                <li><a 
                                    className={activePage === 'profile' ? 'active' : ''} 
                                    onClick={() => setActivePage('profile')}
                                >Profile</a></li>
                                <li><a onClick={onLogout}>Logout</a></li>
                            </ul>
                            <div className="search-container">
                                <input 
                                    type="text" 
                                    className="search-input"
                                    placeholder="Search books..."
                                    value={searchQuery}
                                    onChange={handleSearch}
                                />
                            </div>
                        </div>
                    </nav>
                    
                    {/* Role Switch Bar */}
                    <div className="role-switch-bar">
                        <div className="role-switch-container">
                            <button 
                                className="role-switch-btn role-switch-active"
                                disabled
                            >
                                Buyer Mode
                            </button>
                            <button 
                                onClick={handleRoleSwitch}
                                className="role-switch-btn role-switch-inactive"
                            >
                                Switch to Seller
                            </button>
                        </div>
                    </div>
                    
                    <div className="panel">
                        <div className="container">
                            {renderPage()}
                        </div>
                    </div>
                </div>
            );
        }

        // Seller Panel Component with Role Switch Bar
        function SellerPanel({ user, onLogout }) {
            const [activePage, setActivePage] = useState('dashboard');
            
            // Role switch handler
            const handleRoleSwitch = () => {
                // Save current user data with buyer role
                const buyerUser = { ...user, role: 'buyer' };
                localStorage.setItem('bookstore_user', JSON.stringify(buyerUser));
                window.location.reload(); // Refresh to apply role change
            };
            
            const renderPage = () => {
                switch(activePage) {
                    case 'dashboard':
                        return <SellerDashboard />;
                    case 'addBook':
                        return <SellerAddBook />;
                    case 'myBooks':
                        return <SellerMyBooks />;
                    case 'orders':
                        return <SellerOrders />;
                    case 'earnings':
                        return <SellerEarnings />;
                    case 'profile':
                        return <SellerProfile user={user} />;
                    default:
                        return <SellerDashboard />;
                }
            };
            
            return (
                <div>
                    <nav className="navbar">
                        <div className="nav-container">
                            <div className="logo">
                                <span className="logo-icon-nav">ðŸ“š</span>
                                BookMeUp - Seller
                            </div>
                            <ul className="nav-links">
                                <li><a 
                                    className={activePage === 'dashboard' ? 'active' : ''} 
                                    onClick={() => setActivePage('dashboard')}
                                >Dashboard</a></li>
                                <li><a 
                                    className={activePage === 'addBook' ? 'active' : ''} 
                                    onClick={() => setActivePage('addBook')}
                                >Add Book</a></li>
                                <li><a 
                                    className={activePage === 'myBooks' ? 'active' : ''} 
                                    onClick={() => setActivePage('myBooks')}
                                >My Books</a></li>
                                <li><a 
                                    className={activePage === 'orders' ? 'active' : ''} 
                                    onClick={() => setActivePage('orders')}
                                >Orders</a></li>
                                <li><a 
                                    className={activePage === 'earnings' ? 'active' : ''} 
                                    onClick={() => setActivePage('earnings')}
                                >Earnings</a></li>
                                <li><a 
                                    className={activePage === 'profile' ? 'active' : ''} 
                                    onClick={() => setActivePage('profile')}
                                >Profile</a></li>
                                <li><a onClick={onLogout}>Logout</a></li>
                            </ul>
                        </div>
                    </nav>
                    
                    {/* Role Switch Bar */}
                    <div className="role-switch-bar">
                        <div className="role-switch-container">
                            <button 
                                onClick={handleRoleSwitch}
                                className="role-switch-btn role-switch-inactive"
                            >
                                Switch to Buyer
                            </button>
                            <button 
                                className="role-switch-btn role-switch-active"
                                disabled
                            >
                                Seller Mode
                            </button>
                        </div>
                    </div>
                    
                    <div className="panel">
                        <div className="container">
                            {renderPage()}
                        </div>
                    </div>
                </div>
            );
        }

        // Admin Panel Component
        function AdminPanel({ user, onLogout }) {
            const [activePage, setActivePage] = useState('dashboard');
            
            const renderPage = () => {
                switch(activePage) {
                    case 'dashboard':
                        return <AdminDashboard />;
                    case 'manageUsers':
                        return <AdminManageUsers />;
                    case 'manageBooks':
                        return <AdminManageBooks />;
                    case 'manageOrders':
                        return <AdminManageOrders />;
                    case 'payments':
                        return <AdminPayments />;
                    default:
                        return <AdminDashboard />;
                }
            };
            
            return (
                <div>
                    <nav className="navbar">
                        <div className="nav-container">
                            <div className="logo">
                                <span className="logo-icon-nav">ðŸ“š</span>
                                BookMeUp - Admin
                            </div>
                            <ul className="nav-links">
                                <li><a 
                                    className={activePage === 'dashboard' ? 'active' : ''} 
                                    onClick={() => setActivePage('dashboard')}
                                >Dashboard</a></li>
                                <li><a 
                                    className={activePage === 'manageUsers' ? 'active' : ''} 
                                    onClick={() => setActivePage('manageUsers')}
                                >Manage Users</a></li>
                                <li><a 
                                    className={activePage === 'manageBooks' ? 'active' : ''} 
                                    onClick={() => setActivePage('manageBooks')}
                                >Manage Books</a></li>
                                <li><a 
                                    className={activePage === 'manageOrders' ? 'active' : ''} 
                                    onClick={() => setActivePage('manageOrders')}
                                >Manage Orders</a></li>
                                <li><a 
                                    className={activePage === 'payments' ? 'active' : ''} 
                                    onClick={() => setActivePage('payments')}
                                >Payments</a></li>
                                <li><a onClick={onLogout}>Logout</a></li>
                            </ul>
                        </div>
                    </nav>
                    
                    <div className="panel">
                        <div className="container">
                            {renderPage()}
                        </div>
                    </div>
                </div>
            );
        }

        // Buyer Home with Search Functionality
        function BuyerHome({ addToCart, searchQuery }) {
            const [featuredBooks] = useState([
                {
                    id: 1,
                    title: "The Great Gatsby",
                    author: "F. Scott Fitzgerald",
                    language: "English",
                    price: "â‚¹450",
                    rating: 4.5,
                    image: "https://cdn.waterstones.com/bookjackets/large/9781/5248/9781524879761.jpg",                    
                    condition: "Like New"
                },
                {
                    id: 2,
                    title: "Mookajjiya Kanasugalu",
                    author: "Shivaram Karanth",
                    language: "Kannada",
                    price: "â‚¹380",
                    rating: 4.8,
                    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8CMcLFAN4Dj3PVwOjxv1vtRR-3GUDxOpCLq1U6p9ObtUbzBewGI4VHHfioU0-QkOY194&usqp=CAU",
                    condition: "Very Good"
                },
                {
                    id: 3,
                    title: "Godan",
                    author: "Munshi Premchand",
                    language: "Hindi",
                    price: "â‚¹320",
                    rating: 4.7,
                    image: "https://gyaanstore.com/cdn/shop/files/145_595179f5-41e5-4217-ba61-60c8443a161c.png?v=1757534864&width=1946",                 
                    condition: "Good"
                },
                {
                    id: 4,
                    title: "To Kill a Mockingbird",
                    author: "Harper Lee",
                    language: "English",
                    price: "â‚¹520",
                    rating: 4.9,
                    image: "https://bfbooks.com/cdn/shop/files/To_Kill_a_Mockingbird_Harper_Lee_processed.jpg?v=1751405957&width=546",                
                    condition: "Excellent"
                },
                {
                    id: 5,
                    title: "Pride and Prejudice",
                    author: "Jane Austen",
                    language: "English",
                    price: "â‚¹480",
                    rating: 4.6,
                    image:"https://u-mercari-images.mercdn.net/thumb/photos/m10592760963_1.jpg?width=2560&quality=75&_=1755980003",                  
                    condition: "Very Good"
                },
                {
                    id: 6,
                    title: "1984",
                    author: "George Orwell",
                    language: "English",
                    price: "â‚¹420",
                    rating: 4.7,
                    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDeh-Rh6Xmg9cN2g8p8Sdl4m8KDlu1hTpjmg&s",
                    condition: "Good"
                },
                {
                    id: 7,
                    title: "The Alchemist",
                    author: "Paulo Coelho",
                    language: "English",
                    price: "â‚¹350",
                    rating: 4.4,
                    image: "https://is1-ssl.mzstatic.com/image/thumb/Music128/v4/10/42/e9/1042e977-23eb-9518-55e0-7f3965064ee2/9780060879075.jpg/1200x675wf.jpg",        
                    condition: "Like New"
                },
                {
                    id: 8,
                    title: "The Kite Runner",
                    author: "Khaled Hosseini",
                    language: "English",
                    price: "â‚¹390",
                    rating: 4.8,
                    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfgX74NEO9wZxuHX4tB01nqPl1yzB11ILwqQ&s",               
                    condition: "Very Good"
                }
            ]);

            // Filter books based on search query
            const filteredBooks = searchQuery 
                ? featuredBooks.filter(book => 
                    book.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
                    book.author.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    book.language.toLowerCase().includes(searchQuery.toLowerCase()))
                : featuredBooks;

            const handleAddToCart = (book) => {
                addToCart(book);
            };

            const renderStars = (rating) => {
                const stars = [];
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 !== 0;
                
                // Full stars
                for (let i = 0; i < fullStars; i++) {
                    stars.push(<span key={i} className="star">â˜…</span>);
                }
                
                // Half star
                if (hasHalfStar) {
                    stars.push(<span key="half" className="star">â˜…</span>);
                }
                
                // Empty stars
                const emptyStars = 5 - Math.ceil(rating);
                for (let i = 0; i < emptyStars; i++) {
                    stars.push(<span key={`empty-${i}`} className="star" style={{color: '#E0E0E0'}}>â˜…</span>);
                }
                
                return stars;
            };

            return (
                <div>
                    <div className="panel-header">
                        <h1>Welcome to BookMeUp</h1>
                        <p>Find your next favorite book from our collection of second-hand books</p>
                    </div>
                    <div className="panel-content">
                        <h2>{searchQuery ? `Search Results for "${searchQuery}"` : "Featured Books"}</h2>
                        <p>{searchQuery ? `Found ${filteredBooks.length} books matching your search` : "Discover our handpicked selection of quality second-hand books"}</p>
                        
                        {filteredBooks.length === 0 ? (
                            <div className="empty-state">
                                <div className="empty-state-icon">ðŸ”</div>
                                <h3>No books found</h3>
                                <p>Try adjusting your search terms or browse our categories</p>
                            </div>
                        ) : (
                            <div className="featured-books-grid">
                                {filteredBooks.map(book => (
                                    <div key={book.id} className="featured-book-card">
                                        <div className="book-image-container">
                                            <img 
                                                src={book.image} 
                                                alt={book.title}
                                                className="book-image"
                                            />
                                            <div className="book-language">{book.language}</div>
                                        </div>
                                        <div className="book-details">
                                            <h3 className="book-title">{book.title}</h3>
                                            <p className="book-author">by {book.author}</p>
                                            
                                            <div className="book-rating">
                                                <div className="stars">
                                                    {renderStars(book.rating)}
                                                </div>
                                                <span className="rating-value">{book.rating}/5</span>
                                            </div>
                                            
                                            <div className="book-price">{book.price}</div>
                                            
                                            <div className="book-actions">
                                                <button 
                                                    className="btn-small btn-primary" 
                                                    onClick={() => handleAddToCart(book)}
                                                >
                                                    Add to Cart
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Buyer Categories Component with Books
        function BuyerCategories({ addToCart }) {
            const [selectedCategory, setSelectedCategory] = useState('all');
            
            const categories = [
                {
                    id: 'kannada',
                    title: 'Kannada Books',
                    description: 'Classic and contemporary Kannada literature',
                    icon: 'ðŸ“š',
                    count: 5
                },
                {
                    id: 'english',
                    title: 'English Books',
                    description: 'Bestsellers and literary classics in English',
                    icon: 'ðŸ“–',
                    count: 5
                },
                {
                    id: 'hindi',
                    title: 'Hindi Books',
                    description: 'Renowned Hindi literature and modern works',
                    icon: 'ðŸ“•',
                    count: 5
                }
            ];

            const booksByCategory = {
                kannada: [
                    {
                        id: 101,
                        title: "Mookajjiya Kanasugalu",
                        author: "Shivaram Karanth",
                        language: "Kannada",
                        price: "â‚¹380",
                        rating: 4.8,
                        image:"https://pustakamane.com/wp-content/uploads/2024/02/Mookajjiya-Kanasugalu-1.jpg",                         
                        condition: "Very Good",
                        description: "A classic Kannada novel exploring dreams and reality"
                    },
                    {
                        id: 102,
                        title: "Samskara",
                        author: "U.R. Ananthamurthy",
                        language: "Kannada",
                        price: "â‚¹320",
                        rating: 4.7,
                        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzk_2BGtXFD-opXkTTuKM6SgLXfPgA9z1HV4Av6VTzU7Sg9EBlit42zYle0phEEoULVsY&usqp=CAU",
                        condition: "Good",
                        description: "A landmark novel in modern Kannada literature"
                    },
                    {
                        id: 103,
                        title: "Chidambara Rahasya",
                        author: "Poornachandra Tejaswi",
                        language: "Kannada",
                        price: "â‚¹280",
                        rating: 4.5,
                        image: "https://kannadabookhouse.com/wp-content/uploads/2024/05/chidambara.jpg",
                        condition: "Like New",
                        description: "Mystery and adventure in the Western Ghats"
                    },
                    {
                        id: 104,
                        title: "Karvalo",
                        author: "Kuvempu",
                        language: "Kannada",
                        price: "â‚¹350",
                        rating: 4.6,
                        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJp68Ng8d7qP2z4DjvFdINYHemUxomsDckInqUHZ1SY9Q-LFpe3fDBSR8cC7QpahJm2iY&usqp=CAU",
                        condition: "Excellent",
                        description: "Collection of poems by the renowned poet Kuvempu"
                    },
                    {
                        id: 105,
                        title: "Malgudi Days",
                        author: "R.K. Narayan (Kannada Translation)",
                        language: "Kannada",
                        price: "â‚¹290",
                        rating: 4.4,
                        image: "https://images-eu.ssl-images-amazon.com/images/I/41bIGE24eDL._AC_UL210_SR210,210_.jpg",
                        condition: "Very Good",
                        description: "Beloved stories from the fictional town of Malgudi"
                    }
                ],
                english: [
                    {
                        id: 201,
                        title: "The Great Gatsby",
                        author: "F. Scott Fitzgerald",
                        language: "English",
                        price: "â‚¹450",
                        rating: 4.5,
                        image: "https://cdn.waterstones.com/bookjackets/large/9781/5248/9781524879761.jpg",
                        condition: "Like New",
                        description: "A classic American novel of the Jazz Age"
                    },
                    {
                        id: 202,
                        title: "To Kill a Mockingbird",
                        author: "Harper Lee",
                        language: "English",
                        price: "â‚¹520",
                        rating: 4.9,
                        image: "https://bfbooks.com/cdn/shop/files/To_Kill_a_Mockingbird_Harper_Lee_processed.jpg?v=1751405957&width=546",                    
                        condition: "Excellent",
                        description: "A powerful story of racial injustice and childhood"
                    },
                    {
                        id: 203,
                        title: "1984",
                        author: "George Orwell",
                        language: "English",
                        price: "â‚¹420",
                        rating: 4.7,
                        image: "https://pclbookshop.com/cdn/shop/products/BA546FRONT_1200x1200.jpg?v=1680159514",
                        condition: "Good",
                        description: "Dystopian novel about totalitarian regime"
                    },
                    {
                        id: 204,
                        title: "Pride and Prejudice",
                        author: "Jane Austen",
                        language: "English",
                        price: "â‚¹480",
                        rating: 4.6,
                        image: "https://u-mercari-images.mercdn.net/thumb/photos/m10592760963_1.jpg?width=2560&quality=75&_=1755980003",
                        condition: "Very Good",
                        description: "Timeless romance and social commentary"
                    },
                    {
                        id: 205,
                        title: "The Alchemist",
                        author: "Paulo Coelho",
                        language: "English",
                        price: "â‚¹350",
                        rating: 4.4,
                        image: "https://is1-ssl.mzstatic.com/image/thumb/Music128/v4/10/42/e9/1042e977-23eb-9518-55e0-7f3965064ee2/9780060879075.jpg/1200x675wf.jpg",
                        condition: "Like New",
                        description: "Philosophical novel about following your dreams"
                    }
                ],
                hindi: [
                    {
                        id: 301,
                        title: "Godan",
                        author: "Munshi Premchand",
                        language: "Hindi",
                        price: "â‚¹320",
                        rating: 4.7,
                        image: "https://gyaanstore.com/cdn/shop/files/145_595179f5-41e5-4217-ba61-60c8443a161c.png?v=1757534864&width=1946",
                        condition: "Good",
                        description: "Classic Hindi novel depicting rural Indian life"
                    },
                    {
                        id: 302,
                        title: "Madhushala",
                        author: "Harivansh Rai Bachchan",
                        language: "Hindi",
                        price: "â‚¹250",
                        rating: 4.8,
                        image: "https://m.media-amazon.com/images/I/51-jJAyndNL.jpg_BO30,255,255,255_UF900,850_SR1910,1000,0,C_QL100_.jpg",
                        condition: "Very Good",
                        description: "Famous collection of Hindi poetry"
                    },
                    {
                        id: 303,
                        title: "Nirmala",
                        author: "Munshi Premchand",
                        language: "Hindi",
                        price: "â‚¹280",
                        rating: 4.5,
                        image: "https://pictures.abebooks.com/isbn/9789388810487-us.jpg",
                        condition: "Good",
                        description: "Social novel addressing women's issues"
                    },
                    {
                        id: 304,
                        title: "Rashmirathi",
                        author: "Ramdhari Singh Dinkar",
                        language: "Hindi",
                        price: "â‚¹300",
                        rating: 4.6,
                        image: "https://bluediarybooks.com/wp-content/uploads/2024/05/1710071354.jpg",
                        condition: "Excellent",
                        description: "Epic poem based on Mahabharata's Karna"
                    },
                    {
                        id: 305,
                        title: "Gaban",
                        author: "Munshi Premchand",
                        language: "Hindi",
                        price: "â‚¹340",
                        rating: 4.7,
                        image: "https://www.padhegaindia.in/wp-content/uploads/2023/T/9789389053043-t.webp",
                        condition: "Very Good",
                        description: "Social novel about moral corruption"
                    }
                ]
            };

            const handleAddToCart = (book) => {
                addToCart(book);
                alert(`"${book.title}" added to cart!`);
            };

            const renderStars = (rating) => {
                const stars = [];
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 !== 0;
                
                // Full stars
                for (let i = 0; i < fullStars; i++) {
                    stars.push(<span key={i} className="star">â˜…</span>);
                }
                
                // Half star
                if (hasHalfStar) {
                    stars.push(<span key="half" className="star">â˜…</span>);
                }
                
                // Empty stars
                const emptyStars = 5 - Math.ceil(rating);
                for (let i = 0; i < emptyStars; i++) {
                    stars.push(<span key={`empty-${i}`} className="star" style={{color: '#E0E0E0'}}>â˜…</span>);
                }
                
                return stars;
            };

            const currentBooks = selectedCategory === 'all' ? [] : booksByCategory[selectedCategory];
            const selectedCategoryData = categories.find(cat => cat.id === selectedCategory);

            return (
                <div>
                    <div className="panel-header">
                        <h1>Book Categories</h1>
                        <p>Browse books by language category - Click on any category to see available books</p>
                    </div>
                    <div className="panel-content">
                        {/* Category Selection Cards */}
                        <div className="categories-grid">
                            {categories.map(category => (
                                <div 
                                    key={category.id}
                                    className={`category-card ${selectedCategory === category.id ? 'active' : ''}`}
                                    onClick={() => setSelectedCategory(category.id)}
                                >
                                    <div className="category-icon">{category.icon}</div>
                                    <div className="category-details">
                                        <h3 className="category-title">{category.title}</h3>
                                        <p className="category-description">{category.description}</p>
                                        <div className="category-count">{category.count} books available</div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Books Display Section */}
                        {selectedCategory !== 'all' && (
                            <div style={{marginTop: '40px'}}>
                                <div className="panel-header" style={{marginBottom: '20px'}}>
                                    <h2>{selectedCategoryData?.title}</h2>
                                    <p>{selectedCategoryData?.description} - {currentBooks.length} books found</p>
                                </div>
                                
                                <div className="featured-books-grid">
                                    {currentBooks.map(book => (
                                        <div key={book.id} className="featured-book-card">
                                            <div className="book-image-container">
                                                <img 
                                                    src={book.image} 
                                                    alt={book.title}
                                                    className="book-image"
                                                />
                                                <div className="book-language">{book.language}</div>
                                            </div>
                                            <div className="book-details">
                                                <h3 className="book-title">{book.title}</h3>
                                                <p className="book-author">by {book.author}</p>
                                                <p style={{fontSize: '14px', color: '#6C757D', marginBottom: '10px', lineHeight: '1.4'}}>
                                                    {book.description}
                                                </p>
                                                
                                                <div className="book-rating">
                                                    <div className="stars">
                                                        {renderStars(book.rating)}
                                                    </div>
                                                    <span className="rating-value">{book.rating}/5</span>
                                                </div>
                                                
                                                <div className="book-price">{book.price}</div>
                                                <div style={{fontSize: '12px', color: '#6C757D', marginBottom: '15px', padding: '5px', backgroundColor: '#F8F9FA', borderRadius: '4px'}}>
                                                    ðŸ“– Condition: <strong>{book.condition}</strong>
                                                </div>
                                                
                                                <div className="book-actions">
                                                    <button 
                                                        className="btn-small btn-primary" 
                                                        onClick={() => handleAddToCart(book)}
                                                    >
                                                        Add to Cart
                                                    </button>
                                                    <button 
                                                        className="btn-small btn-outline"
                                                        onClick={() => {
                                                            alert(`Quick view: ${book.title}\nAuthor: ${book.author}\nPrice: ${book.price}\nRating: ${book.rating}/5\nCondition: ${book.condition}`);
                                                        }}
                                                    >
                                                        Quick View
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* Category Navigation */}
                                <div style={{textAlign: 'center', marginTop: '30px', padding: '20px', borderTop: '1px solid #E0E0E0'}}>
                                    <h3>Browse Other Categories</h3>
                                    <div style={{display: 'flex', justifyContent: 'center', gap: '10px', marginTop: '15px', flexWrap: 'wrap'}}>
                                        {categories.map(category => (
                                            <button
                                                key={category.id}
                                                className={`btn-small ${selectedCategory === category.id ? 'btn-primary' : 'btn-outline'}`}
                                                onClick={() => setSelectedCategory(category.id)}
                                            >
                                                {category.title}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Initial State - No Category Selected */}
                        {selectedCategory === 'all' && (
                            <div style={{textAlign: 'center', padding: '60px 20px', color: '#6C757D'}}>
                                <div style={{fontSize: '64px', marginBottom: '20px'}}>ðŸ“š</div>
                                <h3>Explore Our Book Collection</h3>
                                <p style={{fontSize: '16px', maxWidth: '500px', margin: '0 auto 30px'}}>
                                    Click on any category above to discover amazing books in your preferred language. 
                                    Each category contains carefully selected second-hand books in excellent condition.
                                </p>
                                <div style={{display: 'inline-flex', flexDirection: 'column', gap: '10px', alignItems: 'center'}}>
                                    <div style={{fontSize: '14px', color: '#4A6CF7'}}>ðŸ‘‡</div>
                                    <div style={{fontSize: '14px'}}>Select a category to get started</div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Enhanced BuyerCart Component with One-Time Address Feature
        function BuyerCart({ cartItems, removeFromCart, updateQuantity, cartTotal, handleCheckout, setActivePage }) {
            const [checkoutStep, setCheckoutStep] = useState('cart'); // 'cart', 'customer', 'payment', 'confirmation'
            const [customerInfo, setCustomerInfo] = useState({
                fullName: '',
                email: '',
                phone: '',
                address: '',
                city: '',
                pincode: '',
                saveAddress: false,
                saveAsOneTime: false
            });
            const [paymentInfo, setPaymentInfo] = useState({
                paymentMethod: 'credit_card', // 'credit_card', 'upi', 'cod'
                cardNumber: '',
                cardName: '',
                expiryDate: '',
                cvv: '',
                upiId: ''
            });
            const [orderDetails, setOrderDetails] = useState(null);
            
            // State for saved addresses
            const [savedAddresses, setSavedAddresses] = useState([]);
            const [useSavedAddressId, setUseSavedAddressId] = useState(null);
            const [askingAddressChoice, setAskingAddressChoice] = useState(false);
            
            // State for one-time address
            const [oneTimeAddress, setOneTimeAddress] = useState(null);
            const [useOneTimeAddress, setUseOneTimeAddress] = useState(false);

            // Load data from localStorage on component mount
            useEffect(() => {
                try {
                    // Load saved addresses
                    const list = JSON.parse(localStorage.getItem('bookstore_addresses') || '[]');
                    setSavedAddresses(Array.isArray(list) ? list : []);
                    
                    // Load one-time address
                    const savedOneTimeAddress = localStorage.getItem('bookstore_one_time_address');
                    if (savedOneTimeAddress) {
                        setOneTimeAddress(JSON.parse(savedOneTimeAddress));
                    }
                } catch (e) {
                    console.error('Error loading addresses:', e);
                }
            }, []);

            // Function to save addresses to localStorage
            const persistAddresses = (addresses) => {
                localStorage.setItem('bookstore_addresses', JSON.stringify(addresses || []));
                setSavedAddresses(addresses || []);
            };

            // Function to save a new address
            const saveNewAddress = (addrObj) => {
                const id = 'ADDR' + Date.now();
                const newAddr = { id, ...addrObj };
                const updated = [newAddr, ...savedAddresses];
                persistAddresses(updated);
                setUseSavedAddressId(id);
            };

            // Function to save one-time address
            const saveOneTimeAddress = (addressData) => {
                const oneTimeAddr = {
                    id: 'ONE_TIME_' + Date.now(),
                    fullName: addressData.fullName,
                    email: addressData.email,
                    phone: addressData.phone,
                    address: addressData.address,
                    city: addressData.city,
                    pincode: addressData.pincode,
                    isOneTime: true,
                    timestamp: new Date().toISOString()
                };
                
                localStorage.setItem('bookstore_one_time_address', JSON.stringify(oneTimeAddr));
                setOneTimeAddress(oneTimeAddr);
                return oneTimeAddr;
            };

            // Function to clear one-time address
            const clearOneTimeAddress = () => {
                localStorage.removeItem('bookstore_one_time_address');
                setOneTimeAddress(null);
                setUseOneTimeAddress(false);
                setCustomerInfo({ 
                    fullName: '', 
                    email: '', 
                    phone: '', 
                    address: '', 
                    city: '', 
                    pincode: '',
                    saveAddress: false,
                    saveAsOneTime: false 
                });
            };

            // Function to handle selecting a saved address
            const handleSelectSavedAddress = (id) => {
                const selected = savedAddresses.find(a => a.id === id);
                if (selected) {
                    setCustomerInfo({ 
                        fullName: selected.fullName, 
                        email: selected.email, 
                        phone: selected.phone, 
                        address: selected.address, 
                        city: selected.city, 
                        pincode: selected.pincode 
                    });
                    setUseSavedAddressId(id);
                }
            };

            // Function to delete a saved address
            const deleteSavedAddress = (id) => {
                const updated = savedAddresses.filter(a => a.id !== id);
                persistAddresses(updated);
                if (useSavedAddressId === id) setUseSavedAddressId(null);
            };

            // Handle customer info form changes
            const handleCustomerInfoChange = (e) => {
                const { name, value, type, checked } = e.target;
                setCustomerInfo(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };

            // Proceed to customer info step
            const proceedToCustomerInfo = () => {
                if (!cartItems || cartItems.length === 0) { 
                    alert('Your cart is empty!'); 
                    return; 
                }

                // Check if we have a one-time address saved
                if (oneTimeAddress) {
                    // Auto-fill the form with one-time address
                    setCustomerInfo({ 
                        fullName: oneTimeAddress.fullName || '', 
                        email: oneTimeAddress.email || '', 
                        phone: oneTimeAddress.phone || '', 
                        address: oneTimeAddress.address || '', 
                        city: oneTimeAddress.city || '', 
                        pincode: oneTimeAddress.pincode || '',
                        saveAddress: false,
                        saveAsOneTime: false
                    });
                    setUseOneTimeAddress(true);
                    setCheckoutStep('customer');
                    return;
                }

                // Original logic for saved addresses
                if (savedAddresses.length >= 1) {
                    const first = savedAddresses[0];
                    setCustomerInfo({ 
                        fullName: first.fullName || '', 
                        email: first.email || '', 
                        phone: first.phone || '', 
                        address: first.address || '', 
                        city: first.city || '', 
                        pincode: first.pincode || '',
                        saveAddress: false,
                        saveAsOneTime: false
                    });
                    setUseSavedAddressId(first.id);
                    setAskingAddressChoice(false);
                    setCheckoutStep('customer');
                    return;
                }

                setCheckoutStep('customer');
            };

            // Proceed to payment step
            const proceedToPayment = () => {
                if (!customerInfo.fullName || !customerInfo.email || !customerInfo.phone || !customerInfo.address) { 
                    alert('Please fill in all required customer information!'); 
                    return; 
                }

                // Save as one-time address if checkbox is checked
                if (customerInfo.saveAsOneTime && !oneTimeAddress) {
                    const addr = { 
                        fullName: customerInfo.fullName, 
                        email: customerInfo.email, 
                        phone: customerInfo.phone, 
                        address: customerInfo.address, 
                        city: customerInfo.city, 
                        pincode: customerInfo.pincode 
                    };
                    saveOneTimeAddress(addr);
                }

                // Save as regular address if checkbox is checked
                if (customerInfo.saveAddress) {
                    const addr = { 
                        fullName: customerInfo.fullName, 
                        email: customerInfo.email, 
                        phone: customerInfo.phone, 
                        address: customerInfo.address, 
                        city: customerInfo.city, 
                        pincode: customerInfo.pincode 
                    };
                    saveNewAddress(addr);
                }

                setCheckoutStep('payment');
            };

            // Process payment and create order
            const processPayment = () => {
                // Validation based on payment method
                if (paymentInfo.paymentMethod === 'credit_card') {
                    if (!paymentInfo.cardNumber || !paymentInfo.cardName || !paymentInfo.expiryDate || !paymentInfo.cvv) {
                        alert("Please fill in all credit card details!");
                        return;
                    }
                } else if (paymentInfo.paymentMethod === 'upi') {
                    if (!paymentInfo.upiId) {
                        alert("Please enter your UPI ID!");
                        return;
                    }
                    if (!paymentInfo.upiId.includes('@')) {
                        alert("Please enter a valid UPI ID (e.g., name@upi)!");
                        return;
                    }
                }
                // Cash on Delivery requires no additional validation

                // Create comprehensive order object
                const order = {
                    id: 'ORD' + Date.now(),
                    date: new Date().toLocaleDateString(),
                    time: new Date().toLocaleTimeString(),
                    customer: { ...customerInfo },
                    items: [...cartItems],
                    payment: { ...paymentInfo },
                    total: cartTotal,
                    status: paymentInfo.paymentMethod === 'cod' ? 'pending' : 'confirmed',
                    trackingNumber: 'TRK' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                    estimatedDelivery: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString()
                };

                setOrderDetails(order);
                setCheckoutStep('confirmation');
                
                // Save order to localStorage for orders page
                const existingOrders = JSON.parse(localStorage.getItem('bookstore_orders') || '[]');
                const updatedOrders = [order, ...existingOrders];
                localStorage.setItem('bookstore_orders', JSON.stringify(updatedOrders));
                
                // Clear cart after successful order
                if (handleCheckout) handleCheckout();
            };

            // Format card number for display
            const formatCardNumber = (value) => {
                const v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                const matches = v.match(/\d{4,16}/g);
                const match = matches && matches[0] || '';
                const parts = [];
                for (let i = 0, len = match.length; i < len; i += 4) {
                    parts.push(match.substring(i, i + 4));
                }
                return parts.length ? parts.join(' ') : value;
            };

            // Handle payment info changes
            const handlePaymentInfoChange = (e) => {
                const { name, value } = e.target;
                if (name === 'cardNumber') {
                    setPaymentInfo(prev => ({ ...prev, cardNumber: formatCardNumber(value) }));
                } else {
                    setPaymentInfo(prev => ({ ...prev, [name]: value }));
                }
            };

            // Checkout Steps Component
            const CheckoutSteps = () => {
                const steps = [
                    { id: 'cart', label: 'Cart Review' },
                    { id: 'customer', label: 'Customer Info' },
                    { id: 'payment', label: 'Payment' },
                    { id: 'confirmation', label: 'Confirmation' }
                ];
                
                return (
                    <div className="checkout-steps">
                        {steps.map((step, index) => (
                            <div key={step.id} className="checkout-step">
                                <div className={`step-number ${checkoutStep === step.id ? 'active' : ''}`}>
                                    {index + 1}
                                </div>
                                <div className={`step-label ${checkoutStep === step.id ? 'active' : ''}`}>
                                    {step.label}
                                </div>
                            </div>
                        ))}
                    </div>
                );
            };

            // Payment Method Selection Component
            const PaymentMethodSelector = () => {
                return (
                    <div className="payment-methods">
                        <h4>Select Payment Method</h4>
                        <div style={{display: 'flex', flexDirection: 'column', gap: '10px', marginBottom: '20px'}}>
                            <label className={`payment-method-option ${paymentInfo.paymentMethod === 'credit_card' ? 'selected' : ''}`}>
                                <input 
                                    type="radio" 
                                    name="paymentMethod" 
                                    value="credit_card" 
                                    checked={paymentInfo.paymentMethod === 'credit_card'}
                                    onChange={handlePaymentInfoChange}
                                    style={{transform: 'scale(1.2)', marginRight: '12px'}}
                                />
                                <div className="payment-method-icon">ðŸ’³</div>
                                <div className="payment-method-info">
                                    <div className="payment-method-title">Credit/Debit Card</div>
                                    <div className="payment-method-description">Pay securely with your card</div>
                                </div>
                            </label>

                            <label className={`payment-method-option ${paymentInfo.paymentMethod === 'upi' ? 'selected' : ''}`}>
                                <input 
                                    type="radio" 
                                    name="paymentMethod" 
                                    value="upi" 
                                    checked={paymentInfo.paymentMethod === 'upi'}
                                    onChange={handlePaymentInfoChange}
                                    style={{transform: 'scale(1.2)', marginRight: '12px'}}
                                />
                                <div className="payment-method-icon">ðŸ“±</div>
                                <div className="payment-method-info">
                                    <div className="payment-method-title">UPI Payment</div>
                                    <div className="payment-method-description">Pay using UPI apps</div>
                                </div>
                            </label>

                            <label className={`payment-method-option ${paymentInfo.paymentMethod === 'cod' ? 'selected' : ''}`}>
                                <input 
                                    type="radio" 
                                    name="paymentMethod" 
                                    value="cod" 
                                    checked={paymentInfo.paymentMethod === 'cod'}
                                    onChange={handlePaymentInfoChange}
                                    style={{transform: 'scale(1.2)', marginRight: '12px'}}
                                />
                                <div className="payment-method-icon">ðŸ’°</div>
                                <div className="payment-method-info">
                                    <div className="payment-method-title">Cash on Delivery</div>
                                    <div className="payment-method-description">Pay when you receive your order</div>
                                </div>
                            </label>
                        </div>
                    </div>
                );
            };

            // Cart Review Step
            if (checkoutStep === 'cart') {
                return (
                    <div>
                        <div className="panel-header">
                            <h1>Your Shopping Cart</h1>
                            <p>Review your items and proceed to checkout</p>
                        </div>
                        <CheckoutSteps />
                        <div className="panel-content">
                            {cartItems.length === 0 ? (
                                <div className="cart-empty">
                                    <div className="cart-empty-icon">ðŸ›’</div>
                                    <h3>Your cart is empty</h3>
                                    <p>Add some books to get started!</p>
                                </div>
                            ) : (
                                <div>
                                    <div className="cart-items">
                                        {cartItems.map(item => (
                                            <div key={item.id} className="cart-item">
                                                <img src={item.image} alt={item.title} className="cart-item-image" />
                                                <div className="cart-item-details">
                                                    <h3 className="cart-item-title">{item.title}</h3>
                                                    <p className="cart-item-author">by {item.author}</p>
                                                    <div className="cart-item-price">{item.price} Ã— {item.quantity}</div>
                                                </div>
                                                <div className="cart-item-actions">
                                                    <button 
                                                        className="btn-small btn-outline"
                                                        onClick={() => updateQuantity(item.id, item.quantity - 1)}
                                                    >
                                                        -
                                                    </button>
                                                    <span style={{padding: '0 10px'}}>{item.quantity}</span>
                                                    <button 
                                                        className="btn-small btn-outline"
                                                        onClick={() => updateQuantity(item.id, item.quantity + 1)}
                                                    >
                                                        +
                                                    </button>
                                                    <button 
                                                        className="btn-small btn-outline"
                                                        onClick={() => removeFromCart(item.id)}
                                                        style={{marginLeft: '10px', backgroundColor: '#ff4757', color: 'white', border: 'none'}}
                                                    >
                                                        Remove
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="cart-summary">
                                        <div className="cart-total">
                                            <span>Total:</span>
                                            <span>â‚¹{cartTotal}</span>
                                        </div>
                                        <button className="btn btn-primary" onClick={proceedToCustomerInfo}>
                                            Proceed to Checkout
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            // Customer Information Step
            if (checkoutStep === 'customer') {
                return (
                    <div>
                        <div className="panel-header">
                            <h1>Customer Information</h1>
                            <p>Please provide your details for order delivery</p>
                        </div>
                        <CheckoutSteps />
                        <div className="panel-content">
                            <div className="checkout-form-grid">
                                <div>
                                    <h3>Order Summary</h3>
                                    <div className="checkout-summary">
                                        {cartItems.map(item => (
                                            <div key={item.id} style={{display: 'flex', justifyContent: 'space-between', marginBottom: '8px', paddingBottom: '8px', borderBottom: '1px solid #f0f0f0'}}>
                                                <span>{item.title}</span>
                                                <span>{item.price} Ã— {item.quantity}</span>
                                            </div>
                                        ))}
                                        <div style={{fontWeight: 'bold', marginTop: '10px', paddingTop: '10px', borderTop: '2px solid #E0E0E0'}}>
                                            Total: â‚¹{cartTotal}
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h3>Shipping Details</h3>
                                    
                                    {/* One-Time Address Banner */}
                                    {oneTimeAddress && (
                                        <div style={{ 
                                            marginBottom: '16px', 
                                            padding: '15px', 
                                            border: '2px solid #4CAF50', 
                                            borderRadius: '8px',
                                            backgroundColor: '#F0F9FF'
                                        }}>
                                            <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>
                                                <span style={{ 
                                                    backgroundColor: '#4CAF50', 
                                                    color: 'white', 
                                                    padding: '4px 10px', 
                                                    borderRadius: '12px', 
                                                    fontSize: '12px',
                                                    marginRight: '10px',
                                                    fontWeight: '600'
                                                }}>
                                                    One-Time Address
                                                </span>
                                                <strong style={{ color: '#4CAF50', fontSize: '16px' }}>Auto-filled from your previous order</strong>
                                            </div>
                                            
                                            <div style={{ marginBottom: '12px', padding: '10px', backgroundColor: 'white', borderRadius: '6px' }}>
                                                <div><strong>{oneTimeAddress.fullName}</strong></div>
                                                <div>{oneTimeAddress.address}</div>
                                                <div>{oneTimeAddress.city} {oneTimeAddress.pincode}</div>
                                                <div>ðŸ“ž {oneTimeAddress.phone}</div>
                                                <div>ðŸ“§ {oneTimeAddress.email}</div>
                                            </div>
                                            
                                            <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
                                                <button 
                                                    type="button" 
                                                    onClick={() => {
                                                        setCustomerInfo({ 
                                                            fullName: oneTimeAddress.fullName || '', 
                                                            email: oneTimeAddress.email || '', 
                                                            phone: oneTimeAddress.phone || '', 
                                                            address: oneTimeAddress.address || '', 
                                                            city: oneTimeAddress.city || '', 
                                                            pincode: oneTimeAddress.pincode || '',
                                                            saveAddress: false,
                                                            saveAsOneTime: false
                                                        });
                                                        setUseOneTimeAddress(true);
                                                        alert('One-time address applied to form!');
                                                    }}
                                                    className="btn-small btn-primary"
                                                >
                                                    Use This Address
                                                </button>
                                                
                                                <button 
                                                    type="button" 
                                                    onClick={clearOneTimeAddress}
                                                    className="btn-small"
                                                    style={{ backgroundColor: '#ff4757', color: 'white', border: 'none' }}
                                                >
                                                    Clear & Use Different Address
                                                </button>
                                            </div>
                                        </div>
                                    )}

                                    {/* Saved Addresses Selection */}
                                    {savedAddresses.length > 0 && !useOneTimeAddress && (
                                        <div style={{ marginBottom: '16px', padding: '12px', border: '1px dashed #ddd', borderRadius: '8px', backgroundColor: '#F8F9FA' }}>
                                            <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600', color: '#2E3A47' }}>Saved Addresses</label>
                                            <div style={{ display: 'flex', gap: '10px', alignItems: 'center', flexWrap: 'wrap' }}>
                                                <select 
                                                    value={useSavedAddressId || ''} 
                                                    onChange={(e) => {
                                                        const id = e.target.value;
                                                        if (!id) { 
                                                            setUseSavedAddressId(null); 
                                                            setCustomerInfo({ 
                                                                fullName: '', 
                                                                email: '', 
                                                                phone: '', 
                                                                address: '', 
                                                                city: '', 
                                                                pincode: '',
                                                                saveAddress: false,
                                                                saveAsOneTime: false
                                                            }); 
                                                            return; 
                                                        }
                                                        setUseSavedAddressId(id); 
                                                        handleSelectSavedAddress(id);
                                                    }}
                                                    className="form-input"
                                                    style={{ flex: '1', minWidth: '200px' }}
                                                >
                                                    <option value=''>-- Use new address --</option>
                                                    {savedAddresses.map(addr => (
                                                        <option key={addr.id} value={addr.id}>{addr.fullName} â€” {addr.address && addr.address.length > 40 ? addr.address.slice(0, 40) + '...' : addr.address}</option>
                                                    ))}
                                                </select>

                                                <button 
                                                    type="button" 
                                                    onClick={() => setAskingAddressChoice(true)}
                                                    className="btn-small btn-outline"
                                                >
                                                    Manage Addresses
                                                </button>
                                            </div>
                                        </div>
                                    )}

                                    {/* Address Selection Modal */}
                                    {askingAddressChoice ? (
                                        <div style={{ border: '1px solid #E0E0E0', padding: '20px', borderRadius: '10px', backgroundColor: 'white', marginBottom: '20px' }}>
                                            <h4 style={{ marginBottom: '15px', color: '#2E3A47' }}>Choose a Saved Address</h4>
                                            {savedAddresses.length === 0 && <div style={{ padding: '20px', textAlign: 'center', color: '#6C757D' }}>No saved addresses yet</div>}
                                            {savedAddresses.map(addr => (
                                                <div key={addr.id} style={{ display: 'block', padding: '15px', border: '1px solid #f0f0f0', borderRadius: '8px', marginBottom: '10px', backgroundColor: '#F8F9FA' }}>
                                                    <label style={{ display: 'flex', alignItems: 'flex-start', marginBottom: '10px' }}>
                                                        <input 
                                                            type="radio" 
                                                            name="savedAddress" 
                                                            value={addr.id} 
                                                            checked={useSavedAddressId === addr.id} 
                                                            onChange={() => setUseSavedAddressId(addr.id)} 
                                                            style={{ marginRight: '10px', marginTop: '5px' }} 
                                                        />
                                                        <div style={{ flex: 1 }}>
                                                            <strong style={{ fontSize: '16px' }}>{addr.fullName}</strong>
                                                            <div style={{ color: '#6C757D', marginTop: '4px' }}>{addr.address}, {addr.city} {addr.pincode}</div>
                                                            <div style={{ color: '#6C757D', fontSize: '14px' }}>ðŸ“ž {addr.phone} | ðŸ“§ {addr.email}</div>
                                                        </div>
                                                    </label>
                                                    <div style={{ display: 'flex', gap: '8px', marginTop: '10px' }}>
                                                        <button 
                                                            className="btn-small btn-primary"
                                                            onClick={() => { 
                                                                handleSelectSavedAddress(addr.id); 
                                                                setAskingAddressChoice(false); 
                                                            }}
                                                        >
                                                            Use This Address
                                                        </button>
                                                        <button 
                                                            className="btn-small"
                                                            style={{ backgroundColor: '#ff4757', color: 'white', border: 'none' }}
                                                            onClick={() => deleteSavedAddress(addr.id)}
                                                        >
                                                            Delete
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}

                                            <div style={{ marginTop: '20px', textAlign: 'center' }}>
                                                <button 
                                                    className="btn btn-outline"
                                                    onClick={() => { 
                                                        setAskingAddressChoice(false); 
                                                        setUseSavedAddressId(null);
                                                        setCustomerInfo({
                                                            fullName: '',
                                                            email: '',
                                                            phone: '',
                                                            address: '',
                                                            city: '',
                                                            pincode: '',
                                                            saveAddress: false,
                                                            saveAsOneTime: false
                                                        });
                                                    }}
                                                >
                                                    Enter a New Address
                                                </button>
                                            </div>
                                        </div>
                                    ) : !useOneTimeAddress ? (
                                        <div className="checkout-form-section">
                                            <div className="checkout-form">
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '8px', fontWeight: '500', color: '#2E3A47'}}>Full Name *</label>
                                                    <input 
                                                        type="text" 
                                                        name="fullName"
                                                        value={customerInfo.fullName} 
                                                        onChange={handleCustomerInfoChange}
                                                        className="form-input"
                                                        placeholder="Enter your full name"
                                                    />
                                                </div>
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '8px', fontWeight: '500', color: '#2E3A47'}}>Email Address *</label>
                                                    <input 
                                                        type="email" 
                                                        name="email"
                                                        value={customerInfo.email} 
                                                        onChange={handleCustomerInfoChange}
                                                        className="form-input"
                                                        placeholder="Enter your email"
                                                    />
                                                </div>
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '8px', fontWeight: '500', color: '#2E3A47'}}>Phone Number *</label>
                                                    <input 
                                                        type="tel" 
                                                        name="phone"
                                                        value={customerInfo.phone} 
                                                        onChange={handleCustomerInfoChange}
                                                        className="form-input"
                                                        placeholder="Enter your phone number"
                                                    />
                                                </div>
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '8px', fontWeight: '500', color: '#2E3A47'}}>Address *</label>
                                                    <textarea 
                                                        name="address"
                                                        value={customerInfo.address} 
                                                        onChange={handleCustomerInfoChange}
                                                        className="form-input"
                                                        placeholder="Enter your complete address"
                                                        rows="3"
                                                    />
                                                </div>
                                                <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px'}}>
                                                    <div>
                                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '500', color: '#2E3A47'}}>City</label>
                                                        <input 
                                                            type="text" 
                                                            name="city"
                                                            value={customerInfo.city} 
                                                            onChange={handleCustomerInfoChange}
                                                            className="form-input"
                                                            placeholder="Enter city"
                                                        />
                                                    </div>
                                                    <div>
                                                        <label style={{display: 'block', marginBottom: '8px', fontWeight: '500', color: '#2E3A47'}}>Pincode</label>
                                                        <input 
                                                            type="text" 
                                                            name="pincode"
                                                            value={customerInfo.pincode} 
                                                            onChange={handleCustomerInfoChange}
                                                            className="form-input"
                                                            placeholder="Enter pincode"
                                                        />
                                                    </div>
                                                </div>
                                                
                                                <div style={{marginTop: '15px'}}>
                                                    <label style={{display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '10px'}}>
                                                        <input 
                                                            type="checkbox" 
                                                            name="saveAddress" 
                                                            checked={customerInfo.saveAddress} 
                                                            onChange={handleCustomerInfoChange} 
                                                        /> 
                                                        <span>Save this address to my address book</span>
                                                    </label>
                                                    
                                                    {/* One-Time Address Checkbox (only show if no one-time address exists) */}
                                                    {!oneTimeAddress && (
                                                        <label style={{ 
                                                            display: 'flex', 
                                                            alignItems: 'center', 
                                                            gap: '10px',
                                                            padding: '12px',
                                                            backgroundColor: '#F0F9FF',
                                                            border: '1px dashed #4CAF50',
                                                            borderRadius: '6px',
                                                            marginTop: '10px'
                                                        }}>
                                                            <input 
                                                                type="checkbox" 
                                                                name="saveAsOneTime" 
                                                                checked={customerInfo.saveAsOneTime} 
                                                                onChange={handleCustomerInfoChange} 
                                                            /> 
                                                            <div>
                                                                <strong style={{ color: '#4CAF50', display: 'block', marginBottom: '4px' }}>Set as my one-time address</strong>
                                                                <div style={{ fontSize: '13px', color: '#666' }}>
                                                                    This address will be automatically filled for all future orders. 
                                                                    You can change it anytime in checkout.
                                                                </div>
                                                            </div>
                                                        </label>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="checkout-form-section" style={{ backgroundColor: '#F0F9FF', borderColor: '#4CAF50' }}>
                                            <div style={{ textAlign: 'center', padding: '20px' }}>
                                                <div style={{ fontSize: '48px', color: '#4CAF50', marginBottom: '15px' }}>âœ“</div>
                                                <h3 style={{ color: '#4CAF50', marginBottom: '10px' }}>One-Time Address Applied</h3>
                                                <p style={{ color: '#666', marginBottom: '20px' }}>
                                                    Your saved address has been automatically filled. 
                                                    You can proceed to payment or modify the address below.
                                                </p>
                                                <button 
                                                    className="btn btn-outline"
                                                    onClick={clearOneTimeAddress}
                                                    style={{ marginBottom: '15px' }}
                                                >
                                                    Use a Different Address
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                            
                            <div style={{display: 'flex', gap: '15px', justifyContent: 'space-between', marginTop: '30px'}}>
                                <button className="btn btn-outline" onClick={() => setCheckoutStep('cart')}>
                                    â† Back to Cart
                                </button>
                                <button className="btn btn-primary" onClick={proceedToPayment}>
                                    Continue to Payment â†’
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Payment Information Step
            if (checkoutStep === 'payment') {
                const getPaymentButtonText = () => {
                    switch(paymentInfo.paymentMethod) {
                        case 'credit_card':
                            return `Pay â‚¹${cartTotal} with Card`;
                        case 'upi':
                            return `Pay â‚¹${cartTotal} with UPI`;
                        case 'cod':
                            return `Place Order (Pay â‚¹${cartTotal} on Delivery)`;
                        default:
                            return `Pay â‚¹${cartTotal}`;
                    }
                };

                return (
                    <div>
                        <div className="panel-header">
                            <h1>Payment Information</h1>
                            <p>Choose your preferred payment method</p>
                        </div>
                        <CheckoutSteps />
                        <div className="panel-content">
                            <div className="checkout-form-grid">
                                <div>
                                    <h3>Order & Customer Details</h3>
                                    <div className="checkout-summary">
                                        <div style={{marginBottom: '15px'}}>
                                            <strong>Shipping to:</strong>
                                            <p>{customerInfo.fullName}<br/>
                                            {customerInfo.address}<br/>
                                            {customerInfo.city} {customerInfo.pincode}<br/>
                                            {customerInfo.phone}<br/>
                                            {customerInfo.email}</p>
                                        </div>
                                        <div>
                                            <strong>Order Items:</strong>
                                            {cartItems.map(item => (
                                                <div key={item.id} style={{display: 'flex', justifyContent: 'space-between', marginTop: '8px'}}>
                                                    <span>{item.title} (Qty: {item.quantity})</span>
                                                    <span>â‚¹{parseInt(item.price.replace('â‚¹', '')) * item.quantity}</span>
                                                </div>
                                            ))}
                                            <div style={{fontWeight: 'bold', marginTop: '10px', paddingTop: '10px', borderTop: '2px solid #E0E0E0'}}>
                                                Total: â‚¹{cartTotal}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h3>Payment Method</h3>
                                    <div className="checkout-form-section">
                                        <PaymentMethodSelector />
                                        
                                        {paymentInfo.paymentMethod === 'credit_card' && (
                                            <div style={{display: 'flex', flexDirection: 'column', gap: '15px', marginTop: '20px'}}>
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '5px', fontWeight: '500'}}>Card Number *</label>
                                                    <input 
                                                        type="text" 
                                                        name="cardNumber"
                                                        value={paymentInfo.cardNumber}
                                                        onChange={handlePaymentInfoChange}
                                                        className="form-input"
                                                        placeholder="1234 5678 9012 3456"
                                                        maxLength="19"
                                                    />
                                                </div>
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '5px', fontWeight: '500'}}>Cardholder Name *</label>
                                                    <input 
                                                        type="text" 
                                                        name="cardName"
                                                        value={paymentInfo.cardName}
                                                        onChange={handlePaymentInfoChange}
                                                        className="form-input"
                                                        placeholder="Enter name as on card"
                                                    />
                                                </div>
                                                <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px'}}>
                                                    <div>
                                                        <label style={{display: 'block', marginBottom: '5px', fontWeight: '500'}}>Expiry Date *</label>
                                                        <input 
                                                            type="text" 
                                                            name="expiryDate"
                                                            value={paymentInfo.expiryDate}
                                                            onChange={handlePaymentInfoChange}
                                                            className="form-input"
                                                            placeholder="MM/YY"
                                                            maxLength="5"
                                                        />
                                                    </div>
                                                    <div>
                                                        <label style={{display: 'block', marginBottom: '5px', fontWeight: '500'}}>CVV *</label>
                                                        <input 
                                                            type="text" 
                                                            name="cvv"
                                                            value={paymentInfo.cvv}
                                                            onChange={handlePaymentInfoChange}
                                                            className="form-input"
                                                            placeholder="123"
                                                            maxLength="3"
                                                        />
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {paymentInfo.paymentMethod === 'upi' && (
                                            <div style={{display: 'flex', flexDirection: 'column', gap: '15px', marginTop: '20px'}}>
                                                <div>
                                                    <label style={{display: 'block', marginBottom: '5px', fontWeight: '500'}}>UPI ID *</label>
                                                    <input 
                                                        type="text" 
                                                        name="upiId"
                                                        value={paymentInfo.upiId}
                                                        onChange={handlePaymentInfoChange}
                                                        className="form-input"
                                                        placeholder="yourname@upi"
                                                    />
                                                </div>
                                                <div style={{backgroundColor: '#F0F4FF', padding: '15px', borderRadius: '8px', border: '1px solid #4A6CF7'}}>
                                                    <div style={{fontSize: '14px', color: '#4A6CF7', fontWeight: '500', marginBottom: '8px'}}>How to pay with UPI:</div>
                                                    <div style={{fontSize: '13px', color: '#6C757D'}}>
                                                        1. Enter your UPI ID (e.g., name@oksbi, name@paytm)<br/>
                                                        2. Click "Place Order" to proceed<br/>
                                                        3. You will be redirected to your UPI app for payment
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {paymentInfo.paymentMethod === 'cod' && (
                                            <div style={{display: 'flex', flexDirection: 'column', gap: '15px', marginTop: '20px'}}>
                                                <div style={{backgroundColor: '#F0F4FF', padding: '20px', borderRadius: '8px', border: '1px solid #4A6CF7', textAlign: 'center'}}>
                                                    <div style={{fontSize: '48px', marginBottom: '15px'}}>ðŸ’°</div>
                                                    <h4 style={{color: '#4A6CF7', marginBottom: '10px'}}>Cash on Delivery</h4>
                                                    <p style={{color: '#6C757D', fontSize: '14px', lineHeight: '1.5'}}>
                                                        Pay with cash when your order is delivered. Our delivery executive will collect the payment at your doorstep.
                                                    </p>
                                                </div>
                                                <div style={{backgroundColor: '#FFF3CD', padding: '15px', borderRadius: '8px', border: '1px solid #FFC107'}}>
                                                    <div style={{fontSize: '14px', color: '#856404', fontWeight: '500'}}>Note:</div>
                                                    <div style={{fontSize: '13px', color: '#856404'}}>
                                                        â€¢ Please keep exact change ready for the delivery executive<br/>
                                                        â€¢ A small convenience fee may apply for COD orders<br/>
                                                        â€¢ Order confirmation is subject to address verification
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                            
                            <div style={{display: 'flex', gap: '15px', justifyContent: 'space-between', marginTop: '30px'}}>
                                <button className="btn btn-outline" onClick={() => setCheckoutStep('customer')}>
                                    â† Back to Customer Info
                                </button>
                                <button className="btn btn-primary" onClick={processPayment}>
                                    {getPaymentButtonText()}
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Order Confirmation Step
            if (checkoutStep === 'confirmation' && orderDetails) {
                const getPaymentStatusText = () => {
                    switch(orderDetails.payment.paymentMethod) {
                        case 'credit_card':
                        case 'upi':
                            return 'Payment Completed';
                        case 'cod':
                            return 'Payment Pending (Cash on Delivery)';
                        default:
                            return 'Payment Processed';
                    }
                };

                const getPaymentStatusColor = () => {
                    return orderDetails.payment.paymentMethod === 'cod' ? '#FFA500' : '#4CAF50';
                };

                return (
                    <div>
                        <div className="panel-header">
                            <h1>Order Successfully Completed! ðŸŽ‰</h1>
                            <p>Your order is confirmed.</p>
                        </div>
                        <CheckoutSteps />
                        <div className="panel-content">
                            <div className="checkout-success">
                                <div className="success-icon">âœ…</div>
                                <h2 style={{color: '#4CAF50', marginBottom: '15px'}}>Order Successfully Completed!</h2>
                                <p style={{fontSize: '18px', marginBottom: '30px'}}>
                                    Thank you for your purchase! Your order <strong>{orderDetails.id}</strong> has been confirmed and will be shipped soon.
                                </p>
                                
                                <div className="success-actions">
                                    <button 
                                        className="btn btn-primary"
                                        onClick={() => {
                                            setActivePage('orders');
                                        }}
                                    >
                                        Track Order
                                    </button>
                                    <button 
                                        className="btn btn-outline"
                                        onClick={() => {
                                            setActivePage('home');
                                            setCheckoutStep('cart');
                                        }}
                                    >
                                        Back to Home
                                    </button>
                                </div>
                            </div>

                            <div className="checkout-form-grid" style={{marginTop: '30px'}}>
                                <div className="checkout-summary">
                                    <h3>Order Summary</h3>
                                    <div style={{marginTop: '15px'}}>
                                        <p><strong>Order ID:</strong> {orderDetails.id}</p>
                                        <p><strong>Order Date:</strong> {orderDetails.date} at {orderDetails.time}</p>
                                        <p><strong>Status:</strong> <span style={{color: '#4CAF50', fontWeight: 'bold'}}>{orderDetails.status.toUpperCase()}</span></p>
                                        <p><strong>Payment Status:</strong> <span style={{color: getPaymentStatusColor(), fontWeight: 'bold'}}>{getPaymentStatusText()}</span></p>
                                        <p><strong>Payment Method:</strong> {orderDetails.payment.paymentMethod === 'credit_card' ? 'Credit/Debit Card' : orderDetails.payment.paymentMethod === 'upi' ? 'UPI Payment' : 'Cash on Delivery'}</p>
                                        <p><strong>Tracking Number:</strong> {orderDetails.trackingNumber}</p>
                                        <p><strong>Estimated Delivery:</strong> {orderDetails.estimatedDelivery}</p>
                                        <p><strong>Total Amount:</strong> â‚¹{orderDetails.total}</p>
                                    </div>
                                </div>

                                <div className="checkout-summary">
                                    <h3>Shipping Details</h3>
                                    <div style={{marginTop: '15px'}}>
                                        <p><strong>{orderDetails.customer.fullName}</strong></p>
                                        <p>{orderDetails.customer.email}</p>
                                        <p>{orderDetails.customer.phone}</p>
                                        <p>{orderDetails.customer.address}</p>
                                        {orderDetails.customer.city && <p>{orderDetails.customer.city} {orderDetails.customer.pincode}</p>}
                                    </div>
                                </div>
                            </div>

                            <div className="checkout-summary" style={{marginTop: '30px'}}>
                                <h3>Order Items</h3>
                                <div style={{marginTop: '15px'}}>
                                    {orderDetails.items.map(item => (
                                        <div key={item.id} style={{display: 'flex', alignItems: 'center', padding: '10px', borderBottom: '1px solid #f0f0f0'}}>
                                            <img src={item.image} alt={item.title} style={{width: '50px', height: '60px', objectFit: 'cover', borderRadius: '4px', marginRight: '15px'}} />
                                            <div style={{flex: 1}}>
                                                <strong>{item.title}</strong>
                                                <p style={{color: '#6C757D', margin: 0}}>by {item.author}</p>
                                            </div>
                                            <div style={{textAlign: 'right'}}>
                                                <div>{item.price} Ã— {item.quantity}</div>
                                                <strong>â‚¹{parseInt(item.price.replace('â‚¹', '')) * item.quantity}</strong>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div style={{textAlign: 'center', marginTop: '30px', padding: '20px'}}>
                                <p style={{color: '#6C757D', marginBottom: '20px'}}>
                                    {orderDetails.payment.paymentMethod === 'cod' 
                                        ? 'You will pay when your order is delivered. Please keep exact change ready for the delivery executive.'
                                        : 'You will receive an email confirmation shortly. You can track your order in the "Orders" section.'
                                    }
                                </p>
                            </div>
                        </div>
                    </div>
                );
            }

            return null;
        }

        function BuyerOrders() {
            const [orders, setOrders] = useState([]);
            
            useEffect(() => {
                const savedOrders = localStorage.getItem('bookstore_orders');
                if (savedOrders) {
                    setOrders(JSON.parse(savedOrders));
                }
            }, []);
            
            return (
                <div>
                    <div className="panel-header">
                        <h1>Your Orders</h1>
                        <p>Track your order history</p>
                    </div>
                    <div className="panel-content">
                        {orders.length === 0 ? (
                            <div className="empty-state">
                                <div className="empty-state-icon">ðŸ“¦</div>
                                <h3>No orders yet</h3>
                                <p>Your order history will appear here</p>
                        </div>
                        ) : (
                            <div>
                                {orders.map(order => (
                                    <div key={order.id} className="checkout-summary" style={{marginBottom: '20px'}}>
                                        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px'}}>
                                            <h3>Order #{order.id}</h3>
                                            <span className={`status-badge ${order.payment.paymentMethod === 'cod' ? 'status-pending' : 'status-delivered'}`}>
                                                {order.payment.paymentMethod === 'cod' ? 'Pending Payment' : 'Confirmed'}
                                            </span>
                                        </div>
                                        <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px'}}>
                                            <div>
                                                <p><strong>Date:</strong> {order.date} at {order.time}</p>
                                                <p><strong>Payment Method:</strong> {order.payment.paymentMethod === 'credit_card' ? 'Credit/Debit Card' : order.payment.paymentMethod === 'upi' ? 'UPI Payment' : 'Cash on Delivery'}</p>
                                                <p><strong>Total:</strong> â‚¹{order.total}</p>
                                            </div>
                                            <div>
                                                <p><strong>Shipping to:</strong> {order.customer.fullName}</p>
                                                <p><strong>Items:</strong> {order.items.length} books</p>
                                                <p><strong>Estimated Delivery:</strong> {order.estimatedDelivery}</p>
                                            </div>
                                        </div>
                                        <div style={{marginTop: '15px'}}>
                                            <h4>Order Items:</h4>
                                            {order.items.map(item => (
                                                <div key={item.id} style={{display: 'flex', justifyContent: 'space-between', padding: '8px 0', borderBottom: '1px solid #f0f0f0'}}>
                                                    <span>{item.title} (Qty: {item.quantity})</span>
                                                    <span>â‚¹{parseInt(item.price.replace('â‚¹', '')) * item.quantity}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        function BuyerProfile({ user }) {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Your Profile</h1>
                        <p>Manage your account information</p>
                    </div>
                    <div className="panel-content">
                        <div className="profile-sections">
                            <div className="profile-section">
                                <div className="profile-section-header">
                                    <h2 className="profile-section-title">Personal Information</h2>
                                </div>
                                <div className="profile-section-content">
                                    <div className="profile-field">
                                        <label>Email</label>
                                        <input type="email" value={user.email} readOnly />
                                    </div>
                                    <div className="profile-field">
                                        <label>Full Name</label>
                                        <input type="text" placeholder="Enter your full name" />
                                    </div>
                                    <div className="profile-field">
                                        <label>Phone Number</label>
                                        <input type="tel" placeholder="Enter your phone number" />
                                    </div>
                                    <div className="profile-field">
                                        <label>Address</label>
                                        <input type="text" placeholder="Enter your address" />
                                    </div>
                                </div>
                                <div className="profile-actions">
                                    <button className="btn btn-primary">Save Changes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Seller components
        function SellerDashboard() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Seller Dashboard</h1>
                        <p>Manage your book listings and track sales</p>
                    </div>
                    <div className="panel-content">
                        <div className="dashboard-cards">
                            <div className="dashboard-card">
                                <h3>Total Books Listed</h3>
                                <div className="value">24</div>
                            </div>
                            <div className="dashboard-card">
                                <h3>Orders This Month</h3>
                                <div className="value">8</div>
                            </div>
                            <div className="dashboard-card">
                                <h3>Total Earnings</h3>
                                <div className="value">â‚¹3,240</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Enhanced SellerAddBook Component with fully functional image upload
        function SellerAddBook() {
            const [bookData, setBookData] = useState({
                title: '',
                author: '',
                price: '',
                language: 'English',
                description: '',
                image: null,
                imagePreview: null
            });

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setBookData(prev => ({
                    ...prev,
                    [name]: value
                }));
            };

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    // Validate file type
                    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];
                    if (!validTypes.includes(file.type)) {
                        alert('Please upload a valid image file (JPG, PNG, GIF, WebP)');
                        return;
                    }
                    
                    // Validate file size (5MB max)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('Image size should be less than 5MB');
                        return;
                    }
                    
                    // Create preview URL
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setBookData(prev => ({
                            ...prev,
                            image: file,
                            imagePreview: reader.result
                        }));
                    };
                    reader.readAsDataURL(file);
                }
            };

            const handleRemoveImage = () => {
                setBookData(prev => ({
                    ...prev,
                    image: null,
                    imagePreview: null
                }));
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                
                // Validation
                if (!bookData.title.trim()) {
                    alert('Please enter book title');
                    return;
                }
                
                if (!bookData.author.trim()) {
                    alert('Please enter author name');
                    return;
                }
                
                if (!bookData.price || isNaN(bookData.price) || parseFloat(bookData.price) <= 0) {
                    alert('Please enter a valid price');
                    return;
                }
                
                if (!bookData.image) {
                    alert('Please upload a book image');
                    return;
                }
                
                // In a real application, here you would:
                // 1. Upload the image to a server (e.g., Cloudinary, AWS S3, or your backend)
                // 2. Save the book data to your database
                // 3. Get the image URL from the upload response
                
                // For demo purposes, we'll simulate success
                alert(`Book "${bookData.title}" added successfully!\n\nImage uploaded: ${bookData.image.name}\nImage size: ${(bookData.image.size / 1024).toFixed(2)} KB\nImage type: ${bookData.image.type}`);
                
                // Reset form
                setBookData({
                    title: '',
                    author: '',
                    price: '',
                    language: 'English',
                    description: '',
                    image: null,
                    imagePreview: null
                });
            };

            return (
                <div>
                    <div className="panel-header">
                        <h1>Add New Book</h1>
                        <p>List a new book for sale with image upload</p>
                    </div>
                    <div className="panel-content">
                        <form className="seller-add-book-form" onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label className="form-label">Book Title *</label>
                                <input 
                                    className="form-input" 
                                    type="text" 
                                    name="title"
                                    value={bookData.title}
                                    onChange={handleInputChange}
                                    placeholder="Enter book title"
                                    required
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Author *</label>
                                <input 
                                    className="form-input" 
                                    type="text" 
                                    name="author"
                                    value={bookData.author}
                                    onChange={handleInputChange}
                                    placeholder="Enter author name"
                                    required
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Price (â‚¹) *</label>
                                <input 
                                    className="form-input" 
                                    type="number" 
                                    name="price"
                                    value={bookData.price}
                                    onChange={handleInputChange}
                                    placeholder="Enter price"
                                    min="1"
                                    step="1"
                                    required
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label">Language *</label>
                                <select 
                                    className="form-input"
                                    name="language"
                                    value={bookData.language}
                                    onChange={handleInputChange}
                                    required
                                >
                                    <option value="English">English</option>
                                    <option value="Hindi">Hindi</option>
                                    <option value="Kannada">Kannada</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div className="form-group form-full-width">
                                <label className="form-label">Description</label>
                                <textarea 
                                    className="form-input" 
                                    rows="4" 
                                    name="description"
                                    value={bookData.description}
                                    onChange={handleInputChange}
                                    placeholder="Enter book description (optional)"
                                ></textarea>
                            </div>
                            
                            {/* Enhanced Image Upload Section */}
                            <div className="form-group form-full-width">
                                <label className="form-label">Book Image *</label>
                                
                                {bookData.imagePreview ? (
                                    <div className="image-preview-container">
                                        <div style={{ 
                                            display: 'flex', 
                                            flexDirection: 'column', 
                                            alignItems: 'center',
                                            gap: '15px'
                                        }}>
                                            <img 
                                                src={bookData.imagePreview} 
                                                alt="Book preview" 
                                                className="image-preview"
                                                style={{ 
                                                    maxWidth: '300px', 
                                                    maxHeight: '400px',
                                                    objectFit: 'contain'
                                                }}
                                            />
                                            <div style={{ 
                                                display: 'flex', 
                                                flexDirection: 'column',
                                                alignItems: 'center',
                                                gap: '10px'
                                            }}>
                                                <div style={{ 
                                                    backgroundColor: '#f8f9fa', 
                                                    padding: '10px 15px', 
                                                    borderRadius: '6px',
                                                    fontSize: '14px',
                                                    color: '#6c757d'
                                                }}>
                                                    ðŸ“· {bookData.image.name} 
                                                    <span style={{ marginLeft: '10px', color: '#4A6CF7' }}>
                                                        ({(bookData.image.size / 1024).toFixed(2)} KB)
                                                    </span>
                                                </div>
                                                <button 
                                                    type="button" 
                                                    className="remove-image-btn"
                                                    onClick={handleRemoveImage}
                                                >
                                                    Remove Image
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ) : (
                                    <div>
                                        <input
                                            type="file"
                                            id="bookImageUpload"
                                            accept="image/*"
                                            onChange={handleImageUpload}
                                            style={{ display: 'none' }}
                                        />
                                        <label htmlFor="bookImageUpload">
                                            <div 
                                                className="image-upload-container"
                                                style={{ cursor: 'pointer' }}
                                            >
                                                <div className="image-upload-icon">ðŸ“¸</div>
                                                <div className="image-upload-text">
                                                    Click to upload book image
                                                </div>
                                                <div className="image-upload-hint">
                                                    JPG, PNG, GIF, WebP up to 5MB
                                                </div>
                                            </div>
                                        </label>
                                    </div>
                                )}
                                
                                {/* Upload Instructions */}
                                <div style={{ 
                                    marginTop: '15px', 
                                    padding: '15px', 
                                    backgroundColor: '#f0f4ff', 
                                    borderRadius: '8px',
                                    fontSize: '14px',
                                    color: '#4A6CF7'
                                }}>
                                    <div style={{ fontWeight: '600', marginBottom: '8px' }}>ðŸ“ Upload Instructions:</div>
                                    <ul style={{ margin: '0', paddingLeft: '20px' }}>
                                        <li>Click the upload area or drag & drop your image</li>
                                        <li>Supported formats: JPG, PNG, GIF, WebP</li>
                                        <li>Maximum file size: 5MB</li>
                                        <li>For best results, use a clear image of the book cover</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div className="form-full-width">
                                <button type="submit" className="btn btn-primary">
                                    Add Book to Marketplace
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        function SellerMyBooks() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>My Books</h1>
                        <p>Manage your book listings</p>
                    </div>
                    <div className="panel-content">
                        <div className="empty-state">
                            <div className="empty-state-icon">ðŸ“š</div>
                            <h3>No books listed yet</h3>
                            <p>Start by adding your first book for sale</p>
                        </div>
                    </div>
                </div>
            );
        }

        function SellerOrders() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Orders</h1>
                        <p>Manage customer orders</p>
                    </div>
                    <div className="panel-content">
                        <div className="empty-state">
                            <div className="empty-state-icon">ðŸ“¦</div>
                            <h3>No orders yet</h3>
                            <p>Your orders will appear here when customers purchase your books</p>
                        </div>
                    </div>
                </div>
            );
        }

        function SellerEarnings() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Earnings</h1>
                        <p>Track your sales and revenue</p>
                    </div>
                    <div className="panel-content">
                        <div className="empty-state">
                            <div className="empty-state-icon">ðŸ’°</div>
                            <h3>No earnings yet</h3>
                            <p>Your earnings will appear here after you make sales</p>
                        </div>
                    </div>
                </div>
            );
        }

        function SellerProfile({ user }) {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Seller Profile</h1>
                        <p>Manage your seller account</p>
                    </div>
                    <div className="panel-content">
                        <div className="profile-sections">
                            <div className="profile-section">
                                <div className="profile-section-header">
                                    <h2 className="profile-section-title">Account Information</h2>
                                </div>
                                <div className="profile-section-content">
                                    <div className="profile-field">
                                        <label>Email</label>
                                        <input type="email" value={user.email} readOnly />
                                    </div>
                                    <div className="profile-field">
                                        <label>Store Name</label>
                                        <input type="text" placeholder="Enter your store name" />
                                    </div>
                                </div>
                                <div className="profile-actions">
                                    <button className="btn btn-primary">Save Changes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Admin components
        function AdminDashboard() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Admin Dashboard</h1>
                        <p>Manage the entire BookMeUp platform</p>
                    </div>
                    <div className="panel-content">
                        <div className="stats-container">
                            <div className="stat-card">
                                <div className="stat-value">1,247</div>
                                <div className="stat-label">Total Users</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">5,892</div>
                                <div className="stat-label">Total Books</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">893</div>
                                <div className="stat-label">Total Orders</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">â‚¹2,45,680</div>
                                <div className="stat-label">Total Revenue</div>
                            </div>
                        </div>
                        
                        <div style={{marginTop: '30px'}}>
                            <h3>Recent Activities</h3>
                            <div className="recent-activities">
                                <div className="activity-item">
                                    <div className="activity-icon">ðŸ“š</div>
                                    <div className="activity-details">
                                        <div className="activity-message">New seller "BookLover42" registered</div>
                                        <div className="activity-meta">
                                            <div className="activity-time">2 hours ago</div>
                                            <div className="activity-amount">Seller Account</div>
                                        </div>
                                    </div>
                                </div>
                                <div className="activity-item">
                                    <div className="activity-icon">ðŸ’°</div>
                                    <div className="activity-details">
                                        <div className="activity-message">Order #ORD12345 completed</div>
                                        <div className="activity-meta">
                                            <div className="activity-time">5 hours ago</div>
                                            <div className="activity-amount">â‚¹1,250</div>
                                        </div>
                                    </div>
                                </div>
                                <div className="activity-item">
                                    <div className="activity-icon">âš ï¸</div>
                                    <div className="activity-details">
                                        <div className="activity-message">Reported book review removed</div>
                                        <div className="activity-meta">
                                            <div className="activity-time">Yesterday</div>
                                            <div className="activity-amount">Content Moderation</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Enhanced AdminManageUsers Component
        function AdminManageUsers() {
            const [users, setUsers] = useState([
                {
                    id: 1,
                    name: "John Doe",
                    email: "john@example.com",
                    role: "buyer",
                    status: "active",
                    joinDate: "2023-01-15",
                    totalOrders: 12,
                    totalSpent: "â‚¹4,500"
                },
                {
                    id: 2,
                    name: "Jane Smith",
                    email: "jane@example.com",
                    role: "seller",
                    status: "active",
                    joinDate: "2023-02-20",
                    totalBooks: 8,
                    totalEarnings: "â‚¹8,200"
                },
                {
                    id: 3,
                    name: "Bob Johnson",
                    email: "bob@example.com",
                    role: "buyer",
                    status: "inactive",
                    joinDate: "2023-03-10",
                    totalOrders: 3,
                    totalSpent: "â‚¹1,200"
                },
                {
                    id: 4,
                    name: "Alice Brown",
                    email: "alice@example.com",
                    role: "seller",
                    status: "pending",
                    joinDate: "2023-04-05",
                    totalBooks: 15,
                    totalEarnings: "â‚¹12,500"
                },
                {
                    id: 5,
                    name: "Charlie Wilson",
                    email: "charlie@example.com",
                    role: "buyer",
                    status: "active",
                    joinDate: "2023-05-12",
                    totalOrders: 7,
                    totalSpent: "â‚¹2,800"
                },
                {
                    id: 6,
                    name: "David Lee",
                    email: "david@example.com",
                    role: "seller",
                    status: "banned",
                    joinDate: "2023-01-30",
                    totalBooks: 25,
                    totalEarnings: "â‚¹18,000"
                },
                {
                    id: 7,
                    name: "Emma Davis",
                    email: "emma@example.com",
                    role: "buyer",
                    status: "active",
                    joinDate: "2023-06-18",
                    totalOrders: 9,
                    totalSpent: "â‚¹3,600"
                },
                {
                    id: 8,
                    name: "Frank Miller",
                    email: "frank@example.com",
                    role: "seller",
                    status: "active",
                    joinDate: "2023-07-22",
                    totalBooks: 12,
                    totalEarnings: "â‚¹9,800"
                }
            ]);
            
            const [searchTerm, setSearchTerm] = useState('');
            const [filterRole, setFilterRole] = useState('all');
            const [filterStatus, setFilterStatus] = useState('all');
            const [editingUser, setEditingUser] = useState(null);
            const [showUserDetails, setShowUserDetails] = useState(null);
            
            const handleSearch = (e) => {
                setSearchTerm(e.target.value);
            };
            
            const handleFilterRole = (role) => {
                setFilterRole(role);
            };
            
            const handleFilterStatus = (status) => {
                setFilterStatus(status);
            };
            
            const handleEditUser = (user) => {
                setEditingUser(user);
            };
            
            const handleSaveEdit = () => {
                // In a real app, you would send this to the backend
                alert(`User ${editingUser.name} updated successfully!`);
                setEditingUser(null);
            };
            
            const handleDeleteUser = (userId) => {
                if (window.confirm("Are you sure you want to delete this user?")) {
                    setUsers(users.filter(user => user.id !== userId));
                }
            };
            
            const handleToggleStatus = (userId, currentStatus) => {
                const newStatus = currentStatus === 'active' ? 'inactive' : 'active';
                setUsers(users.map(user => 
                    user.id === userId ? { ...user, status: newStatus } : user
                ));
            };
            
            const handleViewDetails = (user) => {
                setShowUserDetails(user);
            };
            
            const handleCloseDetails = () => {
                setShowUserDetails(null);
            };
            
            const filteredUsers = users.filter(user => {
                const matchesSearch = 
                    user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    user.email.toLowerCase().includes(searchTerm.toLowerCase());
                
                const matchesRole = filterRole === 'all' || user.role === filterRole;
                const matchesStatus = filterStatus === 'all' || user.status === filterStatus;
                
                return matchesSearch && matchesRole && matchesStatus;
            });
            
            const getRoleBadge = (role) => {
                switch(role) {
                    case 'buyer':
                        return <span className="role-badge role-buyer">Buyer</span>;
                    case 'seller':
                        return <span className="role-badge role-seller">Seller</span>;
                    case 'admin':
                        return <span className="role-badge role-admin">Admin</span>;
                    default:
                        return <span className="role-badge">Unknown</span>;
                }
            };
            
            const getStatusBadge = (status) => {
                switch(status) {
                    case 'active':
                        return <span className="status-badge status-active">Active</span>;
                    case 'inactive':
                        return <span className="status-badge status-inactive">Inactive</span>;
                    case 'pending':
                        return <span className="status-badge status-pending">Pending</span>;
                    case 'banned':
                        return <span className="status-badge status-banned">Banned</span>;
                    default:
                        return <span className="status-badge">Unknown</span>;
                }
            };
            
            const getRoleStats = () => {
                const buyers = users.filter(u => u.role === 'buyer').length;
                const sellers = users.filter(u => u.role === 'seller').length;
                return { buyers, sellers };
            };
            
            const roleStats = getRoleStats();

            return (
                <div>
                    <div className="panel-header">
                        <h1>Manage Users</h1>
                        <p>View and manage all user accounts</p>
                    </div>
                    
                    <div className="panel-content">
                        {/* Stats Overview */}
                        <div className="stats-container">
                            <div className="stat-card">
                                <div className="stat-value">{users.length}</div>
                                <div className="stat-label">Total Users</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{roleStats.buyers}</div>
                                <div className="stat-label">Buyers</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{roleStats.sellers}</div>
                                <div className="stat-label">Sellers</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{users.filter(u => u.status === 'active').length}</div>
                                <div className="stat-label">Active Users</div>
                            </div>
                        </div>
                        
                        {/* Search and Filters */}
                        <div className="search-filter-bar">
                            <input
                                type="text"
                                className="search-input"
                                placeholder="Search users by name or email..."
                                value={searchTerm}
                                onChange={handleSearch}
                            />
                            
                            <div style={{display: 'flex', gap: '10px', flexWrap: 'wrap'}}>
                                <select 
                                    className="form-input" 
                                    style={{minWidth: '150px'}}
                                    value={filterRole}
                                    onChange={(e) => handleFilterRole(e.target.value)}
                                >
                                    <option value="all">All Roles</option>
                                    <option value="buyer">Buyers</option>
                                    <option value="seller">Sellers</option>
                                </select>
                                
                                <select 
                                    className="form-input" 
                                    style={{minWidth: '150px'}}
                                    value={filterStatus}
                                    onChange={(e) => handleFilterStatus(e.target.value)}
                                >
                                    <option value="all">All Status</option>
                                    <option value="active">Active</option>
                                    <option value="inactive">Inactive</option>
                                    <option value="pending">Pending</option>
                                    <option value="banned">Banned</option>
                                </select>
                                
                                <button 
                                    className="btn btn-outline"
                                    onClick={() => {
                                        setSearchTerm('');
                                        setFilterRole('all');
                                        setFilterStatus('all');
                                    }}
                                >
                                    Clear Filters
                                </button>
                            </div>
                        </div>
                        
                        {/* Users Table */}
                        <div style={{overflowX: 'auto'}}>
                            <table className="data-table">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Role</th>
                                        <th>Status</th>
                                        <th>Join Date</th>
                                        <th>Activity</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {filteredUsers.length === 0 ? (
                                        <tr>
                                            <td colSpan="6" style={{textAlign: 'center', padding: '40px'}}>
                                                <div className="empty-state-icon">ðŸ‘¤</div>
                                                <h3>No users found</h3>
                                                <p>Try adjusting your search or filters</p>
                                            </td>
                                        </tr>
                                    ) : (
                                        filteredUsers.map(user => (
                                            <tr key={user.id}>
                                                <td>
                                                    <div style={{display: 'flex', alignItems: 'center'}}>
                                                        <div style={{
                                                            width: '40px',
                                                            height: '40px',
                                                            borderRadius: '50%',
                                                            backgroundColor: '#4A6CF7',
                                                            color: 'white',
                                                            display: 'flex',
                                                            alignItems: 'center',
                                                            justifyContent: 'center',
                                                            marginRight: '10px',
                                                            fontWeight: 'bold'
                                                        }}>
                                                            {user.name.charAt(0)}
                                                        </div>
                                                        <div>
                                                            <div style={{fontWeight: '600'}}>{user.name}</div>
                                                            <div style={{fontSize: '12px', color: '#6C757D'}}>{user.email}</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>{getRoleBadge(user.role)}</td>
                                                <td>{getStatusBadge(user.status)}</td>
                                                <td>{user.joinDate}</td>
                                                <td>
                                                    {user.role === 'buyer' ? (
                                                        <div>
                                                            <div style={{fontSize: '12px'}}>Orders: {user.totalOrders}</div>
                                                            <div style={{fontSize: '12px'}}>Spent: {user.totalSpent}</div>
                                                        </div>
                                                    ) : (
                                                        <div>
                                                            <div style={{fontSize: '12px'}}>Books: {user.totalBooks || 0}</div>
                                                            <div style={{fontSize: '12px'}}>Earnings: {user.totalEarnings || 'â‚¹0'}</div>
                                                        </div>
                                                    )}
                                                </td>
                                                <td>
                                                    <div className="action-buttons">
                                                        <button 
                                                            className="action-btn action-view"
                                                            onClick={() => handleViewDetails(user)}
                                                        >
                                                            View
                                                        </button>
                                                        <button 
                                                            className="action-btn action-edit"
                                                            onClick={() => handleEditUser(user)}
                                                        >
                                                            Edit
                                                        </button>
                                                        <button 
                                                            className="action-btn action-delete"
                                                            onClick={() => handleDeleteUser(user.id)}
                                                        >
                                                            Delete
                                                        </button>
                                                        <button 
                                                            className={`action-btn ${user.status === 'active' ? 'action-block' : 'action-unblock'}`}
                                                            onClick={() => handleToggleStatus(user.id, user.status)}
                                                        >
                                                            {user.status === 'active' ? 'Block' : 'Unblock'}
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        ))
                                    )}
                                </tbody>
                            </table>
                        </div>
                        
                        {/* User Details Modal */}
                        {showUserDetails && (
                            <div className="modal-overlay">
                                <div className="modal-content">
                                    <div className="modal-header">
                                        <h2 className="modal-title">User Details</h2>
                                        <button className="close-modal" onClick={handleCloseDetails}>Ã—</button>
                                    </div>
                                    
                                    <div className="user-detail-grid">
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Name</div>
                                            <div className="user-detail-value">{showUserDetails.name}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Email</div>
                                            <div className="user-detail-value">{showUserDetails.email}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Role</div>
                                            <div className="user-detail-value">{getRoleBadge(showUserDetails.role)}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Status</div>
                                            <div className="user-detail-value">{getStatusBadge(showUserDetails.status)}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Join Date</div>
                                            <div className="user-detail-value">{showUserDetails.joinDate}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Account Type</div>
                                            <div className="user-detail-value">{showUserDetails.role === 'buyer' ? 'Buyer' : 'Seller'}</div>
                                        </div>
                                    </div>
                                    
                                    <div style={{marginTop: '20px'}}>
                                        <h4>Account Activity</h4>
                                        {showUserDetails.role === 'buyer' ? (
                                            <div>
                                                <p><strong>Total Orders:</strong> {showUserDetails.totalOrders}</p>
                                                <p><strong>Total Spent:</strong> {showUserDetails.totalSpent}</p>
                                                <p><strong>Average Order Value:</strong> â‚¹{Math.round(parseInt(showUserDetails.totalSpent.replace('â‚¹', '').replace(',', '')) / showUserDetails.totalOrders)}</p>
                                            </div>
                                        ) : (
                                            <div>
                                                <p><strong>Books Listed:</strong> {showUserDetails.totalBooks || 0}</p>
                                                <p><strong>Total Earnings:</strong> {showUserDetails.totalEarnings || 'â‚¹0'}</p>
                                                <p><strong>Average Price per Book:</strong> â‚¹{showUserDetails.totalBooks ? Math.round(parseInt(showUserDetails.totalEarnings.replace('â‚¹', '').replace(',', '')) / showUserDetails.totalBooks) : 0}</p>
                                            </div>
                                        )}
                                    </div>
                                    
                                    <div style={{marginTop: '20px', display: 'flex', gap: '10px', justifyContent: 'flex-end'}}>
                                        <button className="btn btn-outline" onClick={handleCloseDetails}>
                                            Close
                                        </button>
                                        <button className="btn btn-primary" onClick={() => {
                                            handleEditUser(showUserDetails);
                                            handleCloseDetails();
                                        }}>
                                            Edit User
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                        
                        {/* Edit User Modal */}
                        {editingUser && (
                            <div className="modal-overlay">
                                <div className="modal-content">
                                    <div className="modal-header">
                                        <h2 className="modal-title">Edit User: {editingUser.name}</h2>
                                        <button className="close-modal" onClick={() => setEditingUser(null)}>Ã—</button>
                                    </div>
                                    
                                    <div className="admin-edit-form">
                                        <div className="admin-form-row">
                                            <div>
                                                <label className="form-label">Name</label>
                                                <input 
                                                    className="form-input"
                                                    type="text"
                                                    defaultValue={editingUser.name}
                                                />
                                            </div>
                                            <div>
                                                <label className="form-label">Email</label>
                                                <input 
                                                    className="form-input"
                                                    type="email"
                                                    defaultValue={editingUser.email}
                                                />
                                            </div>
                                        </div>
                                        
                                        <div className="admin-form-row">
                                            <div>
                                                <label className="form-label">Role</label>
                                                <select className="form-input" defaultValue={editingUser.role}>
                                                    <option value="buyer">Buyer</option>
                                                    <option value="seller">Seller</option>
                                                    <option value="admin">Admin</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="form-label">Status</label>
                                                <select className="form-input" defaultValue={editingUser.status}>
                                                    <option value="active">Active</option>
                                                    <option value="inactive">Inactive</option>
                                                    <option value="pending">Pending</option>
                                                    <option value="banned">Banned</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <label className="form-label">Additional Notes</label>
                                            <textarea 
                                                className="form-input"
                                                rows="3"
                                                placeholder="Add any notes about this user..."
                                            ></textarea>
                                        </div>
                                    </div>
                                    
                                    <div className="admin-form-actions">
                                        <button className="btn btn-outline" onClick={() => setEditingUser(null)}>
                                            Cancel
                                        </button>
                                        <button className="btn btn-primary" onClick={handleSaveEdit}>
                                            Save Changes
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Enhanced AdminManageBooks Component
        function AdminManageBooks() {
            const [books, setBooks] = useState([
                {
                    id: 1,
                    title: "The Great Gatsby",
                    author: "F. Scott Fitzgerald",
                    category: "Fiction",
                    language: "English",
                    price: "â‚¹450",
                    seller: "ClassicBooksStore",
                    status: "approved",
                    uploadDate: "2023-01-10",
                    rating: 4.5,
                    stock: 12
                },
                {
                    id: 2,
                    title: "Mookajjiya Kanasugalu",
                    author: "Shivaram Karanth",
                    category: "Kannada Literature",
                    language: "Kannada",
                    price: "â‚¹380",
                    seller: "KannadaBooks",
                    status: "approved",
                    uploadDate: "2023-02-15",
                    rating: 4.8,
                    stock: 8
                },
                {
                    id: 3,
                    title: "Godan",
                    author: "Munshi Premchand",
                    category: "Hindi Literature",
                    language: "Hindi",
                    price: "â‚¹320",
                    seller: "HindiPustak",
                    status: "pending",
                    uploadDate: "2023-03-20",
                    rating: 4.7,
                    stock: 15
                },
                {
                    id: 4,
                    title: "To Kill a Mockingbird",
                    author: "Harper Lee",
                    category: "Fiction",
                    language: "English",
                    price: "â‚¹520",
                    seller: "ClassicBooksStore",
                    status: "approved",
                    uploadDate: "2023-04-05",
                    rating: 4.9,
                    stock: 6
                },
                {
                    id: 5,
                    title: "Pride and Prejudice",
                    author: "Jane Austen",
                    category: "Romance",
                    language: "English",
                    price: "â‚¹480",
                    seller: "RomanceReads",
                    status: "approved",
                    uploadDate: "2023-05-12",
                    rating: 4.6,
                    stock: 10
                },
                {
                    id: 6,
                    title: "1984",
                    author: "George Orwell",
                    category: "Science Fiction",
                    language: "English",
                    price: "â‚¹420",
                    seller: "SciFiBooks",
                    status: "rejected",
                    uploadDate: "2023-06-18",
                    rating: 4.7,
                    stock: 0
                },
                {
                    id: 7,
                    title: "The Alchemist",
                    author: "Paulo Coelho",
                    category: "Philosophy",
                    language: "English",
                    price: "â‚¹350",
                    seller: "PhilosophyBooks",
                    status: "approved",
                    uploadDate: "2023-07-22",
                    rating: 4.4,
                    stock: 20
                },
                {
                    id: 8,
                    title: "The Kite Runner",
                    author: "Khaled Hosseini",
                    category: "Fiction",
                    language: "English",
                    price: "â‚¹390",
                    seller: "ModernFiction",
                    status: "pending",
                    uploadDate: "2023-08-30",
                    rating: 4.8,
                    stock: 14
                }
            ]);
            
            const [searchTerm, setSearchTerm] = useState('');
            const [filterCategory, setFilterCategory] = useState('all');
            const [filterStatus, setFilterStatus] = useState('all');
            const [filterLanguage, setFilterLanguage] = useState('all');
            const [editingBook, setEditingBook] = useState(null);
            const [showBookDetails, setShowBookDetails] = useState(null);
            
            const categories = [...new Set(books.map(book => book.category))];
            const languages = [...new Set(books.map(book => book.language))];
            
            const handleSearch = (e) => {
                setSearchTerm(e.target.value);
            };
            
            const handleEditBook = (book) => {
                setEditingBook(book);
            };
            
            const handleSaveEdit = () => {
                // In a real app, you would send this to the backend
                alert(`Book "${editingBook.title}" updated successfully!`);
                setEditingBook(null);
            };
            
            const handleDeleteBook = (bookId) => {
                if (window.confirm("Are you sure you want to delete this book?")) {
                    setBooks(books.filter(book => book.id !== bookId));
                }
            };
            
            const handleApproveBook = (bookId) => {
                setBooks(books.map(book => 
                    book.id === bookId ? { ...book, status: 'approved' } : book
                ));
            };
            
            const handleRejectBook = (bookId) => {
                setBooks(books.map(book => 
                    book.id === bookId ? { ...book, status: 'rejected' } : book
                ));
            };
            
            const handleViewDetails = (book) => {
                setShowBookDetails(book);
            };
            
            const handleCloseDetails = () => {
                setShowBookDetails(null);
            };
            
            const filteredBooks = books.filter(book => {
                const matchesSearch = 
                    book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    book.author.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    book.seller.toLowerCase().includes(searchTerm.toLowerCase());
                
                const matchesCategory = filterCategory === 'all' || book.category === filterCategory;
                const matchesStatus = filterStatus === 'all' || book.status === filterStatus;
                const matchesLanguage = filterLanguage === 'all' || book.language === filterLanguage;
                
                return matchesSearch && matchesCategory && matchesStatus && matchesLanguage;
            });
            
            const getStatusBadge = (status) => {
                switch(status) {
                    case 'approved':
                        return <span className="status-badge status-active">Approved</span>;
                    case 'pending':
                        return <span className="status-badge status-pending">Pending</span>;
                    case 'rejected':
                        return <span className="status-badge status-banned">Rejected</span>;
                    default:
                        return <span className="status-badge">Unknown</span>;
                }
            };
            
            const getLanguageBadge = (language) => {
                return <span className="role-badge" style={{backgroundColor: '#6c757d'}}>{language}</span>;
            };
            
            const getBookStats = () => {
                const total = books.length;
                const approved = books.filter(b => b.status === 'approved').length;
                const pending = books.filter(b => b.status === 'pending').length;
                const rejected = books.filter(b => b.status === 'rejected').length;
                return { total, approved, pending, rejected };
            };
            
            const bookStats = getBookStats();

            return (
                <div>
                    <div className="panel-header">
                        <h1>Manage Books</h1>
                        <p>Review and manage all book listings</p>
                    </div>
                    
                    <div className="panel-content">
                        {/* Stats Overview */}
                        <div className="stats-container">
                            <div className="stat-card">
                                <div className="stat-value">{bookStats.total}</div>
                                <div className="stat-label">Total Books</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{bookStats.approved}</div>
                                <div className="stat-label">Approved</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{bookStats.pending}</div>
                                <div className="stat-label">Pending</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{bookStats.rejected}</div>
                                <div className="stat-label">Rejected</div>
                            </div>
                        </div>
                        
                        {/* Search and Filters */}
                        <div className="search-filter-bar">
                            <input
                                type="text"
                                className="search-input"
                                placeholder="Search books by title, author, or seller..."
                                value={searchTerm}
                                onChange={handleSearch}
                            />
                            
                            <div style={{display: 'flex', gap: '10px', flexWrap: 'wrap'}}>
                                <select 
                                    className="form-input" 
                                    style={{minWidth: '150px'}}
                                    value={filterCategory}
                                    onChange={(e) => setFilterCategory(e.target.value)}
                                >
                                    <option value="all">All Categories</option>
                                    {categories.map(category => (
                                        <option key={category} value={category}>{category}</option>
                                    ))}
                                </select>
                                
                                <select 
                                    className="form-input" 
                                    style={{minWidth: '150px'}}
                                    value={filterStatus}
                                    onChange={(e) => setFilterStatus(e.target.value)}
                                >
                                    <option value="all">All Status</option>
                                    <option value="approved">Approved</option>
                                    <option value="pending">Pending</option>
                                    <option value="rejected">Rejected</option>
                                </select>
                                
                                <select 
                                    className="form-input" 
                                    style={{minWidth: '150px'}}
                                    value={filterLanguage}
                                    onChange={(e) => setFilterLanguage(e.target.value)}
                                >
                                    <option value="all">All Languages</option>
                                    {languages.map(language => (
                                        <option key={language} value={language}>{language}</option>
                                    ))}
                                </select>
                                
                                <button 
                                    className="btn btn-outline"
                                    onClick={() => {
                                        setSearchTerm('');
                                        setFilterCategory('all');
                                        setFilterStatus('all');
                                        setFilterLanguage('all');
                                    }}
                                >
                                    Clear Filters
                                </button>
                            </div>
                        </div>
                        
                        {/* Books Table */}
                        <div style={{overflowX: 'auto'}}>
                            <table className="data-table">
                                <thead>
                                    <tr>
                                        <th>Book Title</th>
                                        <th>Author</th>
                                        <th>Category</th>
                                        <th>Language</th>
                                        <th>Price</th>
                                        <th>Seller</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {filteredBooks.length === 0 ? (
                                        <tr>
                                            <td colSpan="8" style={{textAlign: 'center', padding: '40px'}}>
                                                <div className="empty-state-icon">ðŸ“š</div>
                                                <h3>No books found</h3>
                                                <p>Try adjusting your search or filters</p>
                                            </td>
                                        </tr>
                                    ) : (
                                        filteredBooks.map(book => (
                                            <tr key={book.id}>
                                                <td>
                                                    <div style={{fontWeight: '600'}}>{book.title}</div>
                                                    <div style={{fontSize: '12px', color: '#6C757D'}}>
                                                        Rating: {book.rating}/5 | Stock: {book.stock}
                                                    </div>
                                                </td>
                                                <td>{book.author}</td>
                                                <td>{book.category}</td>
                                                <td>{getLanguageBadge(book.language)}</td>
                                                <td style={{fontWeight: 'bold', color: '#4A6CF7'}}>{book.price}</td>
                                                <td>
                                                    <div style={{fontSize: '14px'}}>{book.seller}</div>
                                                    <div style={{fontSize: '12px', color: '#6C757D'}}>{book.uploadDate}</div>
                                                </td>
                                                <td>{getStatusBadge(book.status)}</td>
                                                <td>
                                                    <div className="action-buttons">
                                                        <button 
                                                            className="action-btn action-view"
                                                            onClick={() => handleViewDetails(book)}
                                                        >
                                                            View
                                                        </button>
                                                        <button 
                                                            className="action-btn action-edit"
                                                            onClick={() => handleEditBook(book)}
                                                        >
                                                            Edit
                                                        </button>
                                                        {book.status === 'pending' && (
                                                            <>
                                                                <button 
                                                                    className="action-btn action-verify"
                                                                    onClick={() => handleApproveBook(book.id)}
                                                                >
                                                                    Approve
                                                                </button>
                                                                <button 
                                                                    className="action-btn action-delete"
                                                                    onClick={() => handleRejectBook(book.id)}
                                                                >
                                                                    Reject
                                                                </button>
                                                            </>
                                                        )}
                                                        <button 
                                                            className="action-btn action-delete"
                                                            onClick={() => handleDeleteBook(book.id)}
                                                        >
                                                            Delete
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        ))
                                    )}
                                </tbody>
                            </table>
                        </div>
                        
                        {/* Book Details Modal */}
                        {showBookDetails && (
                            <div className="modal-overlay">
                                <div className="modal-content">
                                    <div className="modal-header">
                                        <h2 className="modal-title">{showBookDetails.title}</h2>
                                        <button className="close-modal" onClick={handleCloseDetails}>Ã—</button>
                                    </div>
                                    
                                    <div className="user-detail-grid">
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Author</div>
                                            <div className="user-detail-value">{showBookDetails.author}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Category</div>
                                            <div className="user-detail-value">{showBookDetails.category}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Language</div>
                                            <div className="user-detail-value">{showBookDetails.language}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Price</div>
                                            <div className="user-detail-value" style={{color: '#4A6CF7', fontWeight: 'bold'}}>
                                                {showBookDetails.price}
                                            </div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Seller</div>
                                            <div className="user-detail-value">{showBookDetails.seller}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Status</div>
                                            <div className="user-detail-value">{getStatusBadge(showBookDetails.status)}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Upload Date</div>
                                            <div className="user-detail-value">{showBookDetails.uploadDate}</div>
                                        </div>
                                        <div className="user-detail-item">
                                            <div className="user-detail-label">Rating</div>
                                            <div className="user-detail-value">{showBookDetails.rating}/5</div>
                                        </div>
                                    </div>
                                    
                                    <div style={{marginTop: '20px'}}>
                                        <h4>Stock & Sales Info</h4>
                                        <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px'}}>
                                            <div style={{padding: '15px', background: '#f8f9fa', borderRadius: '8px'}}>
                                                <div style={{fontSize: '12px', color: '#6C757D'}}>Current Stock</div>
                                                <div style={{fontSize: '24px', fontWeight: 'bold', color: showBookDetails.stock > 5 ? '#2ed573' : '#ff4757'}}>
                                                    {showBookDetails.stock} units
                                                </div>
                                            </div>
                                            <div style={{padding: '15px', background: '#f8f9fa', borderRadius: '8px'}}>
                                                <div style={{fontSize: '12px', color: '#6C757D'}}>Monthly Sales</div>
                                                <div style={{fontSize: '24px', fontWeight: 'bold', color: '#4A6CF7'}}>
                                                    {Math.floor(showBookDetails.stock / 2)} units
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div style={{marginTop: '20px', display: 'flex', gap: '10px', justifyContent: 'flex-end'}}>
                                        <button className="btn btn-outline" onClick={handleCloseDetails}>
                                            Close
                                        </button>
                                        <button className="btn btn-primary" onClick={() => {
                                            handleEditBook(showBookDetails);
                                            handleCloseDetails();
                                        }}>
                                            Edit Book
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                        
                        {/* Edit Book Modal */}
                        {editingBook && (
                            <div className="modal-overlay">
                                <div className="modal-content">
                                    <div className="modal-header">
                                        <h2 className="modal-title">Edit Book: {editingBook.title}</h2>
                                        <button className="close-modal" onClick={() => setEditingBook(null)}>Ã—</button>
                                    </div>
                                    
                                    <div className="admin-edit-form">
                                        <div className="admin-form-row">
                                            <div>
                                                <label className="form-label">Title</label>
                                                <input 
                                                    className="form-input"
                                                    type="text"
                                                    defaultValue={editingBook.title}
                                                />
                                            </div>
                                            <div>
                                                <label className="form-label">Author</label>
                                                <input 
                                                    className="form-input"
                                                    type="text"
                                                    defaultValue={editingBook.author}
                                                />
                                            </div>
                                        </div>
                                        
                                        <div className="admin-form-row">
                                            <div>
                                                <label className="form-label">Category</label>
                                                <select className="form-input" defaultValue={editingBook.category}>
                                                    <option value="Fiction">Fiction</option>
                                                    <option value="Non-Fiction">Non-Fiction</option>
                                                    <option value="Romance">Romance</option>
                                                    <option value="Science Fiction">Science Fiction</option>
                                                    <option value="Philosophy">Philosophy</option>
                                                    <option value="Kannada Literature">Kannada Literature</option>
                                                    <option value="Hindi Literature">Hindi Literature</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="form-label">Language</label>
                                                <select className="form-input" defaultValue={editingBook.language}>
                                                    <option value="English">English</option>
                                                    <option value="Hindi">Hindi</option>
                                                    <option value="Kannada">Kannada</option>
                                                    <option value="Other">Other</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div className="admin-form-row">
                                            <div>
                                                <label className="form-label">Price (â‚¹)</label>
                                                <input 
                                                    className="form-input"
                                                    type="number"
                                                    defaultValue={editingBook.price.replace('â‚¹', '')}
                                                />
                                            </div>
                                            <div>
                                                <label className="form-label">Stock</label>
                                                <input 
                                                    className="form-input"
                                                    type="number"
                                                    defaultValue={editingBook.stock}
                                                />
                                            </div>
                                        </div>
                                        
                                        <div className="admin-form-row">
                                            <div>
                                                <label className="form-label">Status</label>
                                                <select className="form-input" defaultValue={editingBook.status}>
                                                    <option value="approved">Approved</option>
                                                    <option value="pending">Pending</option>
                                                    <option value="rejected">Rejected</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="form-label">Rating</label>
                                                <input 
                                                    className="form-input"
                                                    type="number"
                                                    step="0.1"
                                                    min="0"
                                                    max="5"
                                                    defaultValue={editingBook.rating}
                                                />
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <label className="form-label">Description</label>
                                            <textarea 
                                                className="form-input"
                                                rows="4"
                                                placeholder="Enter book description..."
                                                defaultValue="This is a sample book description that would normally be provided by the seller."
                                            ></textarea>
                                        </div>
                                    </div>
                                    
                                    <div className="admin-form-actions">
                                        <button className="btn btn-outline" onClick={() => setEditingBook(null)}>
                                            Cancel
                                        </button>
                                        <button className="btn btn-primary" onClick={handleSaveEdit}>
                                            Save Changes
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        function AdminManageOrders() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Manage Orders</h1>
                        <p>Monitor and manage all customer orders</p>
                    </div>
                    <div className="panel-content">
                        <div className="empty-state">
                            <div className="empty-state-icon">ðŸ“¦</div>
                            <h3>Order management</h3>
                            <p>Order management features would be implemented here</p>
                        </div>
                    </div>
                </div>
            );
        }

        function AdminPayments() {
            return (
                <div>
                    <div className="panel-header">
                        <h1>Payment Management</h1>
                        <p>Monitor payments and transactions</p>
                    </div>
                    <div className="panel-content">
                        <div className="empty-state">
                            <div className="empty-state-icon">ðŸ’³</div>
                            <h3>Payment management</h3>
                            <p>Payment management features would be implemented here</p>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the App
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>